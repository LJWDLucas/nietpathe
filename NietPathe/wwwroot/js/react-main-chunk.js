(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var a,r,i,c=n(5),o=n(6),l=n(9),u=n(7),s=n(8),m=n(0),d=n.n(m),p=n(29),h=n.n(p),v=(n(77),n(3)),f=n(25),E=n(60),b=n(24),O=n(153),y=n(154),j=n(155),g=n(17),T=n(12),k="https://localhost:5001/",w=n(19),I=n(61),C=n.n(I),N=C.a.create(),S=function(e){return N(Object(w.a)({method:"GET"},e))},D=function(e){return N(Object(w.a)({method:"POST"},e))},M=new T.b.Entity("movies"),_=new T.b.Entity("performances"),P=new T.b.Entity("halls"),x=[M],R=[_],A=[P],U=function(e){return function(t){return S({url:"".concat(k).concat("api/movie","/").concat(e)}).then(function(e){var n=Object(T.a)(e.data,M);return t({type:"SET_ENTITIES",payload:n.entities.movies,entityType:"movies"})})}},z=function(e){return function(t){return S({url:"".concat(k).concat("api/movie","/active/").concat(e)}).then(function(e){var n=Object(T.a)(e.data,x);return t({type:"SET_ENTITIES",payload:n.entities.movies,entityType:"movies"})})}},Y=n(62),F=n(140),L=function(){return d.a.createElement("div",{id:"screen"})},H=d.a.createContext(),V=n(11),$=n.n(V),B=[1,2,3,4,5,6,7,8],W=[1,2,3,4,5,6],K=[1,2,3,4],q=[1,2,3,4,5,6,7,8,9,10],G=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],J=n(2),Z=n(26),X=n(10),Q=(a={},Object(X.a)(a,"NO_DISCOUNT","-1"),Object(X.a)(a,"CHILD_DISCOUNT","0"),Object(X.a)(a,"STUDENT_DISCOUNT","1"),Object(X.a)(a,"ELDERLY_DISCOUNT","2"),Object(X.a)(a,"CINEMA_TICKET_DISCOUNT","3"),a),ee={"-1":"NO_DISCOUNT",0:"CHILD_DISCOUNT",1:"STUDENT_DISCOUNT",2:"ELDERLY_DISCOUNT",3:"CINEMA_TICKET_DISCOUNT"},te=(r={},Object(X.a)(r,"NO_DISCOUNT",0),Object(X.a)(r,"CHILD_DISCOUNT",-1.5),Object(X.a)(r,"STUDENT_DISCOUNT",-1.5),Object(X.a)(r,"ELDERLY_DISCOUNT",-1.5),Object(X.a)(r,"CINEMA_TICKET_DISCOUNT",0),Object(X.a)(r,"THREE_DEE",2.5),Object(X.a)(r,"REGULAR",8.5),Object(X.a)(r,"EXTENDED",9.5),r),ne=(i={},Object(X.a)(i,"NO_DISCOUNT","Geen korting"),Object(X.a)(i,"CHILD_DISCOUNT","Kinderkorting"),Object(X.a)(i,"STUDENT_DISCOUNT","Studentenkorting"),Object(X.a)(i,"ELDERLY_DISCOUNT","65+ reductie"),Object(X.a)(i,"CINEMA_TICKET_DISCOUNT","Nationale Bioscoopbon"),Object(X.a)(i,"THREE_DEE","3D"),Object(X.a)(i,"REGULAR","Ticket"),Object(X.a)(i,"EXTENDED","Ticket"),i),ae=function(e){return e.entities.performances},re=function(e){return e.entities.halls},ie=function(e){return e.entities.movies},ce=function(e){return e.purchase.seats},oe=function(e){return e.purchase.performanceId},le=function(e){return Object(Z.a)(ae,function(t){return t[e]})},ue=function(e){return Object(Z.a)(le(e),re,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0)[e.hallId]})},se=function(e,t){return Object(Z.a)(ce,function(n){return n.some(function(n){return n.row===e&&n.chair===t})})},me=Object(Z.a)(oe,function(e){return["NO_DISCOUNT","STUDENT_DISCOUNT","ELDERLY_DISCOUNT","CINEMA_TICKET_DISCOUNT"]}),de=Object(Z.a)(oe,ae,ce,ie,function(e,t,n,a){var r=parseInt(a[t[e].movieId].runtime.substr(0,1),10)>=2?te.EXTENDED:te.REGULAR,i=t[e].threeDimensional?te.THREE_DEE:0;return n.map(function(e){var t=r+i,n=[te[ee[e.discount]]][0];return Object(w.a)({},e,{price:t+n})})}),pe=function(e,t){return{type:"SET_PURCHASE_PROPERTY",payload:t,purchaseType:e}},he=function(){return function(e,t){return e({type:"SET_CALCULATED_DISCOUNT",payload:de(t())})}},ve=function(){return function(e,t){var n=t().purchase;return g.toast.info("Een moment geduld aub. Uw bestelling wordt verwerkt."),Promise.all(n.seats.map(function(e){var t,a={performanceId:n.performanceId,chair:e.chair,row:e.row,price:e.price,discount:e.discount,name:n.name||"Anoniem",email:n.email||"Geen"};return t=a,D({url:"".concat(k).concat("api/ticket"),data:t}).then(function(e){return e.data})})).then(function(t){return Promise.all(t.map(function(t){var n,a;return e((a=!0,{type:"SET_SEAT_TAKEN",payload:{performanceId:(n=t).performanceId,chair:n.chair,row:n.row,ticketId:n.id,taken:a}})),function(e){var t=e.performanceId,n=e.chair,a=e.row,r=e.id;return D({url:"".concat(k).concat("api/performance","/").concat(t,"/seat"),data:{chair:n,row:a,ticketId:r}})}(t)}))}).then(function(){return g.toast.success("Uw bestelling is verwerkt. U ontvangt een e-mail met uw tickets.")}).then(function(){return e({type:"EMPTY_SEATS"})}).catch(function(){return g.toast.warn("Oh jee, er is iets fout gegaan.")})}},fe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(J.a)(Object(J.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(){var e=this.props,t=e.performanceChair.taken,n=e.isSelected,a=e.performanceAddSeat,r=e.performanceRemoveSeat;return t?null:n?r():a()}},{key:"render",value:function(){var e=this.props,t=e.performanceChair,n=e.isSelected;return d.a.createElement("div",{className:$()({chair:!0,available:!t.taken,unavailable:t.taken,selected:n}),onClick:this.handleClick})}}]),t}(d.a.Component),Ee=Object(v.b)(function(e,t){return{performanceChair:(n=t.performanceId,a=t.row,r=t.chair,Object(Z.a)(le(n),function(e){return e.chairs.find(function(e){return a===e.row&&e.chair===r})}))(e),isSelected:se(t.row,t.chair)(e)};var n,a,r},function(e,t){return{performanceAddSeat:function(){return e((n={chair:t.chair,row:t.row,discount:-1},function(e){e({type:"PURCHASE_ADD_SEAT",payload:n}),e(he())}));var n},performanceRemoveSeat:function(){return e((n={chair:t.chair,row:t.row},function(e){e({type:"PURCHASE_REMOVE_SEAT",payload:n}),e(he())}));var n}}})(fe),be=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).chairs=15===e.chairs?G:q,n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.withClass,a=t.row;return d.a.createElement(H.Consumer,null,function(t){var r=t.performanceId;return d.a.createElement("div",{className:"row-chairs ".concat(n)},e.chairs.map(function(e){return d.a.createElement(Ee,{key:e,row:a,chair:e,performanceId:r})}))})}}]),t}(d.a.Component),Oe=be,ye=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).rows=[],n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentWillUpdate",value:function(e){if(!this.props.rows&&e.rows){var t;switch(e.rows){case 4:t=K;break;case 6:t=W;break;default:t=B}this.rows=t}return!0}},{key:"render",value:function(){var e=this.props,t=e.rows,n=e.chairs;return t&&n?d.a.createElement("div",{id:"rows-holder"},this.rows.reverse().map(function(e){return d.a.createElement(Oe,{key:e,chairs:n[e-1].chairs,row:e,withClass:$()({"row-of-four":4===t,"row-of-six":6===t,"row-of-eight":8===t})},e)})):null}}]),t}(d.a.Component),je=Object(v.b)(function(e,t){return{rows:e.entities.halls[t.hallId]&&e.entities.halls[t.hallId].rows,chairs:e.entities.halls[t.hallId]&&e.entities.halls[t.hallId].chairs}})(ye),ge=function(){return d.a.createElement(H.Consumer,null,function(e){var t=e.hallId;return d.a.createElement("div",{id:"hall"},d.a.createElement(je,{hallId:t}),d.a.createElement(L,null))})},Te=Object(v.b)(function(e){return{}},function(e){return{}})(function(e){return d.a.createElement("div",null,"BeepBoop ready to select.")}),ke=n(23),we=n.n(ke),Ie=n(30),Ce=function(e){return{type:"SET_ENTITIES",payload:e,entityType:"performances"}},Ne=function(e){return{type:"SET_ENTITIES",payload:e,entityType:"halls"}},Se=function(e,t){return{type:"SET_PERFORMANCE_PROPERTY",property:e,payload:t}},De=function(e){return function(t,n){var a,r=n().performance.date;switch(e){case"before":a="".concat(k).concat("api/performance","/beforeDate");break;case"after":a="".concat(k).concat("api/performance","/afterDate");break;default:a="".concat(k).concat("api/performance","/date")}return D({url:a,data:{date:r}}).then(function(e){var n=Object(T.a)(e.data,R);return t(Ce(n.entities.performances||{}))})}},Me=function(e){return function e(t){var n=t.reduce(function(e,t){return e.push.apply(e,Object(Ie.a)(t)),e},[]);return n.some(function(e){return e instanceof Array})?e(n):n}(e.chairs.map(function(e){return Array.from(Array(e.chairs),function(e,t){return t+1}).map(function(t){return{ticketId:"",taken:!1,row:e.row,chair:t}})}))},_e=function(){return function(e,t){var n=t().performance.new,a=function(e){var t=[];e.movieId.length<10&&t.push("movieId"),e.hallId.length<10&&t.push("hallId"),we()(e.date).format("YYYY-MM-DD")<we()().format("YYYY-MM-DD")&&t.push("date"),e.date||t.push("date"),e.startTime||t.push("startTime"),e.endTime||t.push("endTime");var n=we()(e.startTime,"H:mm"),a=we()(e.endTime,"H:mm"),r=we.a.duration(a.diff(n)),i=parseInt(r.asHours(),10);return a.isBefore(n)&&t.push("endTime"),i<3&&t.push("startTime"),t}(n);if(a.length>0)return Promise.resolve(a);g.toast.info("De voorstelling wordt aangemaakt");var r={threeDimensional:n.threeDimensional,movieId:n.movieId,startTime:we()("".concat(n.date," ").concat(n.startTime)).format("YYYY-MM-DD HH:mm:00"),endTime:we()("".concat(n.date," ").concat(n.endTime)).format("YYYY-MM-DD HH:mm:00"),hallId:n.hallId,chairs:Me(t().entities.halls[n.hallId])};return D({url:"".concat(k).concat("api/performance","/create"),data:r}).then(function(){return g.toast.success("Voorstelling is aangemaakt!"),e({type:"SET_INITIAL_PERFORMANCE"}),[]}).catch(function(){return g.toast.warn("Er is iets fout gegaan.")})}},Pe=function(e){return function(t,n){return t(function(e){return function(t){return S({url:"".concat(k).concat("api/performance","/").concat(e)}).then(function(e){var n=Object(T.a)(e.data,_);return t(Ce(n.entities.performances))})}}(e)).then(function(){var a=n().entities.performances[e],r=a.movieId,i=a.hallId;return t(U(r)),t(function(e){return function(t){return S({url:"".concat(k).concat("api/hall","/").concat(e)}).then(function(e){var n=Object(T.a)(e.data,P);return t(Ne(n.entities.halls))})}}(i)),t({type:"PURCHASE_SET_PERFORMANCE_ID",payload:e}),null})}},xe=function(e){var t=e.withClass,n=Object(b.a)(e,["withClass"]);return d.a.createElement("input",Object.assign({className:t},n))},Re=function(e){var t=e.id,n=e.value,a=Object(b.a)(e,["id","value"]);return d.a.createElement("label",Object.assign({htmlFor:t},a),n)},Ae=function(e){var t=e.onChange,n=e.id,a=e.labelValue,r=e.hasError,i=Object(b.a)(e,["onChange","id","labelValue","hasError"]);return d.a.createElement("div",{className:"p-b-15 w-100"},d.a.createElement(Re,{htmlFor:n,value:a}),d.a.createElement(xe,Object.assign({withClass:r?"inputbox error":"inputbox"},i,{onChange:t})))},Ue=n(64),ze=n.n(Ue),Ye=function(e){var t=e.title;return d.a.createElement("h1",{className:"gray-title"},t)},Fe=function(e){var t=e.value,n=e.name;return d.a.createElement("option",{value:t},n)},Le=Object(v.b)(function(e){return{discounts:me(e)}},function(e,t){return{setDiscount:function(n){return e((a={discount:n,chair:t.chair,row:t.row},function(e){e({type:"SET_TICKET_DISCOUNT",payload:a}),e(he())}));var a}}})(function(e){var t=e.discounts,n=e.setDiscount;return d.a.createElement("div",{className:"d-i-b"},d.a.createElement("div",{className:"order-row"}),d.a.createElement("select",{defaultValue:"-1",onChange:function(e){return n(e.target.value)}},t.map(function(e){return d.a.createElement(Fe,{key:Q[e],value:Q[e],name:ne[e]})})))}),He=Object(v.b)(function(e){return{priceList:e.purchase.seats}})(function(e){var t=e.row,n=e.chair,a=e.priceList.find(function(e){return e.row===t&&e.chair===n}).price;return d.a.createElement("li",{className:"price-selector"},d.a.createElement(Le,{row:t,chair:n}),d.a.createElement("div",{className:"price-tag"},new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR"}).format(a)))}),Ve=function(e){var t=e.price;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"line-holder"},d.a.createElement("div",{className:"total-line"})),d.a.createElement("div",{className:"total-price"},d.a.createElement("div",{className:"price"},new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR"}).format(t))))},$e=function(e){return e.reduce(function(e,t){return e+=t.price},0)},Be=Object(v.b)(function(e){return{seats:e.purchase.seats}})(function(e){var t=e.seats;return d.a.createElement(d.a.Fragment,null,d.a.createElement("ul",null,0===t.length&&d.a.createElement("div",null,"Klik op een stoel in het bovenstaande vakje om een plek te reserveren."),t.map(function(e){return d.a.createElement(He,Object.assign({key:"".concat(e.row,"-").concat(e.chair)},e))})),t.length>0&&d.a.createElement(Ve,{price:$e(t)}))}),We=function(e){return d.a.createElement(H.Consumer,null,function(t){var n=t.performanceId;return d.a.createElement(Be,Object.assign({},e,{performanceId:n}))})},Ke=function(e){var t=e.title;return d.a.createElement("div",{className:"title-list"},d.a.createElement(Ye,{title:t}),d.a.createElement(ze.a,null),d.a.createElement("div",{className:"circle","data-tip":"Let op! Bij het afgeven van jouw kaartjes moet je kunnen bewijzen dat je recht hebt op de gekozen korting."},"?"),d.a.createElement(We,null))},qe=Object(v.b)(function(e){return{disabled:0===e.purchase.seats.length}})(function(e){var t=e.value,n=e.withClass,a=(e.dispatch,Object(b.a)(e,["value","withClass","dispatch"]));return d.a.createElement("button",Object.assign({},a,{className:n,type:"button"}),t)}),Ge=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={emailError:!1},n.purchaseTickets=n.purchaseTickets.bind(Object(J.a)(Object(J.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"purchaseTickets",value:function(){var e=this.props,t=e.email,n=e.purchaseTickets;if(-1===t.indexOf("@")||t.length<=6)return this.setState({emailError:!0});this.setState({emailError:!1}),n()}},{key:"render",value:function(){var e=this.props,t=e.setName,n=e.name,a=e.setEmail,r=e.email,i=this.state.emailError;return d.a.createElement("div",{id:"purchase",className:"col-lg-5 col-md-6 col-sm-12 flex-wrap justify-content-center"},d.a.createElement(Ae,{onChange:t,value:n,labelValue:"Vul hier jouw naam in:",id:"name"}),d.a.createElement(Ae,{hasError:i,onChange:a,email:r,labelValue:"Vul hier jouw e-mailadres in:",id:"email"}),d.a.createElement(Ke,{title:"Jouw bestelling"}),d.a.createElement(qe,{withClass:"btn btn-success",onClick:this.purchaseTickets,value:"Kopen"}))}}]),t}(d.a.Component),Je=(Object(v.b)(function(e){return{name:e.purchase.name,email:e.purchase.email}},function(e){return{purchaseTickets:function(){return e(ve())},setName:function(t){return e(pe("name",t.target.value))},setEmail:function(t){return e(pe("email",t.target.value))}}})(Ge),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onClick=n.onClick.bind(Object(J.a)(Object(J.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"onClick",value:function(){var e=this.props,t=e.history,n=e.destination;t.push(n)}},{key:"render",value:function(){return d.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.onClick},"Vorige")}}]),t}(d.a.Component)),Ze=Object(F.a)(Je),Xe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;return(0,this.props.initPerformance)().then(function(){return e.setState({initialized:!0})})}},{key:"componentWillUnmount",value:function(){this.props.unmount()}},{key:"render",value:function(){var e=this.state.initialized,t=this.props.performance;return e?d.a.createElement("div",{id:"performance"},d.a.createElement(H.Provider,{value:{performanceId:t.id,hallId:t.hallId}},d.a.createElement(ge,null),d.a.createElement(Y.a,{query:"(max-width: 467px)"},function(e){return e&&d.a.createElement("div",{id:"mobile-chair-selector"},d.a.createElement(Te,null))})),d.a.createElement(Ze,{destination:"/secure/performances"})):null}}]),t}(d.a.Component),Qe=Object(F.a)(Object(v.b)(function(e,t){return{performance:e.entities.performances[t.match.params.performanceId],movie:(n=t.match.params.performanceId,Object(Z.a)(le(n),ie,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0)[e.movieId]}))(e),hall:ue(t.match.params.performanceId)(e)};var n},function(e,t){return{initPerformance:function(){return e(Pe(t.match.params.performanceId))},unmount:function(){return e({type:"entities/SET_TO_INITIAL_STATE"})}}})(Xe)),et=n(141),tt=n(142),nt=n(68),at=n(143),rt=n(144),it=function(e){var t=e.movies,n=e.onClick;return d.a.createElement("div",{className:"row "},t.map(function(e){return d.a.createElement("div",{onClick:function(){return n(e.id)},className:"col-sm-3",style:{maxHeight:"400px"}},d.a.createElement("img",{style:{width:"100%",height:"auto"},alt:"ok",src:e.posterUrl}))}))},ct=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1,activeIndex:0,movies:[]},n.next=n.next.bind(Object(J.a)(Object(J.a)(n))),n.previous=n.previous.bind(Object(J.a)(Object(J.a)(n))),n.goToIndex=n.goToIndex.bind(Object(J.a)(Object(J.a)(n))),n.onExiting=n.onExiting.bind(Object(J.a)(Object(J.a)(n))),n.onExited=n.onExited.bind(Object(J.a)(Object(J.a)(n))),n.onClickMovie=n.onClickMovie.bind(Object(J.a)(Object(J.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.movies;this.setState({movies:this.spliceMovies(Object.values(e)),initialized:!0})}},{key:"onClickMovie",value:function(e){return this.props.history.push("web/movie/".concat(e))}},{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state,t=e.activeIndex,n=t===e.movies.length-1?0:t+1;this.setState({activeIndex:n})}}},{key:"previous",value:function(){if(!this.animating){var e=this.state,t=e.activeIndex,n=e.movies,a=0===t?n.length-1:t-1;this.setState({activeIndex:a})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"spliceMovies",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===e.length?t:(t.push(e.splice(0,4)),this.spliceMovies(e,t))}},{key:"render",value:function(){var e=this,t=this.state,n=t.initialized,a=t.activeIndex,r=t.movies;return n?d.a.createElement("div",{className:"flex-wrap justify-content-center"},d.a.createElement(et.a,{className:"w-1200px",activeIndex:a,next:this.next,previous:this.previous,interval:"5000"},d.a.createElement(tt.a,{items:r,activeIndex:a,onClickHandler:this.goToIndex}),r.map(function(t){return d.a.createElement(nt.a,{onExiting:e.onExiting,onExited:e.onExited,key:t.src},d.a.createElement(it,{movies:t,onClick:e.onClickMovie}),d.a.createElement(at.a,{captionText:t.caption,captionHeader:t.caption}))}),d.a.createElement(rt.a,{direction:"prev",directionText:"Previous",onClickHandler:this.previous}),d.a.createElement(rt.a,{direction:"next",directionText:"Next",onClickHandler:this.next}))):null}}]),t}(m.Component),ot=Object(v.b)(function(e){return{movies:e.entities.movies}},function(e){return{fetchInitialMovies:function(){return e(z(10))}}})(Object(F.a)(ct)),lt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;return(0,this.props.fetchInitialMovies)().then(function(){return e.setState({initialized:!0})})}},{key:"render",value:function(){return this.state.initialized?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",null,"Web"),d.a.createElement(ot,null)):null}}]),t}(d.a.Component),ut=Object(v.b)(null,function(e){return{fetchInitialMovies:function(){return e(z(10))}}})(lt),st=n(145),mt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({initialized:!0})}},{key:"render",value:function(){var e=this.state.initialized,t=this.props.location;return e?d.a.createElement(d.a.Fragment,null,d.a.createElement(st.a,{to:"".concat(t.pathname,"/movies")},"Beheren films"),d.a.createElement("br",null),d.a.createElement(st.a,{to:"".concat(t.pathname,"/performances")},"Beheren voorstellingen"),d.a.createElement("br",null),d.a.createElement(st.a,{to:"".concat(t.pathname,"/surveys")},"Beheren enquetes"),d.a.createElement("br",null),d.a.createElement(st.a,{to:"".concat(t.pathname,"/reviews")},"Goedkeuren reviews")):null}}]),t}(d.a.Component),dt=Object(v.b)(function(e){return{}},function(e){return{}})(mt),pt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({initialized:!0})}},{key:"render",value:function(){return this.state.initialized?d.a.createElement("div",null,"Tickets"):null}}]),t}(d.a.Component),ht=Object(v.b)(function(e){return{}},function(e){return{}})(pt),vt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return d.a.createElement("div",null,"Performances")}}]),t}(d.a.Component),ft=Object(v.b)(function(e,t){return{}},function(e,t){return{}})(vt),Et=(n(137),n(138),n(69)),bt=n.n(Et),Ot=new T.b.Entity("reviews"),yt=[Ot],jt=function(e,t){return{type:"CONSTRUCT_REVIEW",property:e,payload:t}},gt=function(e){return{type:"REMOVE_REVIEW",payload:e}},Tt=function(e,t){return function(n){return(a={url:"".concat("https://localhost:5001/").concat("api/review","/").concat(e,"/").concat(t)},N(Object(w.a)({method:"DELETE"},a))).then(function(){return n(gt(e))});var a}},kt=function(e){return function(t,n){return D({url:"".concat("https://localhost:5001/").concat("api/review","/approve/").concat(e),headers:{"content-type":"application/json"},data:{employeeId:n().entities.user.loggedInAs}}).then(function(){return t(gt(e))})}},wt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getUnapprovedReviews)().then(function(){return e.setState({initialized:!0})})}},{key:"getSnippet",value:function(e){return e.length<=100?e:"".concat(e.substr(0,100),"...")}},{key:"navigateToReview",value:function(e){var t=this.props,n=t.history,a=t.match;n.push("".concat(a.path,"/").concat(e))}},{key:"render",value:function(){var e=this,t=this.state.initialized,n=this.props,a=n.reviews,r=n.approveReview,i=n.removeReview;return t?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",null,"Klik op een review om deze in zijn geheel te bekijken of accepteer / verwijder de review op basis van de snippet."),d.a.createElement("hr",null),d.a.createElement("table",{className:"table with-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Review Id"),d.a.createElement("th",null,"Movie Id"),d.a.createElement("th",null,"Snippet"))),d.a.createElement("tbody",null,Object.values(a).map(function(t){return d.a.createElement("tr",{key:t.id,onClick:function(){return e.navigateToReview(t.id)}},d.a.createElement("td",null,t.id),d.a.createElement("td",null,t.movieId),d.a.createElement("td",null,e.getSnippet(t.comment)),d.a.createElement("td",null,d.a.createElement("div",{onClick:function(e){e.stopPropagation(),r(t.id)}},"Accepteren")),d.a.createElement("td",null,d.a.createElement("div",{onClick:function(e){e.stopPropagation(),i(t.id,t.removalId)}},"Verwijderen")))}))),d.a.createElement(Ze,{destination:"/secure"})):null}}]),t}(d.a.Component),It=Object(v.b)(function(e){return{reviews:e.reviews.unapproved}},function(e){return{getUnapprovedReviews:function(){return e(function(e){return S({url:"".concat("https://localhost:5001/").concat("api/review","/unapproved")}).then(function(t){var n=Object(T.a)(t.data,yt);return e({type:"SET_UNAPPROVED_REVIEWS",payload:n.entities.reviews})})})},removeReview:function(t,n){return e(Tt(t,n))},approveReview:function(t){return e(kt(t))}}})(wt),Ct=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchMovie,n=e.review;if(!n)return null;t(n.movieId)}},{key:"render",value:function(){var e=this.props,t=e.review,n=e.movie,a=e.removeReview,r=e.approveReview;return t?d.a.createElement(d.a.Fragment,null,d.a.createElement("table",{className:"table"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Sleutel"),d.a.createElement("th",null,"Waarde"))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,"Filmnaam"),d.a.createElement("td",null,n&&n.title||null)),d.a.createElement("tr",null,d.a.createElement("td",null,"Naam van poster"),d.a.createElement("td",null,t.name||"Onbekend")),d.a.createElement("tr",null,d.a.createElement("td",null,"Opmerking"),d.a.createElement("td",null,t.comment)))),d.a.createElement("button",{onClick:function(e){e.stopPropagation(),r(t.id)},type:"button"},"Accepteren"),d.a.createElement("button",{onClick:function(e){e.stopPropagation(),a(t.id,t.removalId)},type:"button"},"Verwijderen"),d.a.createElement(Ze,{destination:"/secure/reviews"})):d.a.createElement(d.a.Fragment,null,d.a.createElement("div",null,"Niets gevonden"),d.a.createElement(Ze,{destination:"/secure/reviews"}))}}]),t}(m.Component),Nt=Object(v.b)(function(e,t){var n=e.reviews.unapproved[t.match.params.id];return{review:n||null,movie:e.entities.movies[n&&n.movieId||null]}},function(e){return{fetchMovie:function(t){return e(U(t))},removeReview:function(t,n){return e(Tt(t,n))},approveReview:function(t){return e(kt(t))}}})(Ct),St=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.movie,a=t.fetchMovie;return(0,t.setMovieId)(),n?this.setState({initialized:!0}):a().then(function(){return e.setState({initialized:!0})})}},{key:"hasAlreadyReviewed",value:function(){var e=this.props.match;return localStorage.getItem(e.params.movieId)}},{key:"render",value:function(){var e=this.state.initialized,t=this.props,n=t.setReview,a=t.name,r=t.comment,i=t.createReview;return e?d.a.createElement(d.a.Fragment,null,d.a.createElement("form",null,d.a.createElement("div",{className:"form-group row"},d.a.createElement("label",{htmlFor:"name",className:"col-sm-2 col-form-label"},"Naam"),d.a.createElement("div",{className:"col-sm-10"},d.a.createElement("input",{type:"text",className:"form-control-plaintext",style:{backgroundColor:"white"},id:"name",value:a,onChange:function(e){if(e.preventDefault(),e.target.value.length>100)return null;n("name",e.target.value)}}))),d.a.createElement("div",{className:"form-group row"},d.a.createElement("label",{htmlFor:"exampleFormControlTextarea1",className:"col-sm-2 col-form-label"},"Review:"),d.a.createElement("div",{className:"col-sm-10"},d.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:r,onChange:function(e){if(e.preventDefault(),e.target.value.length>4500)return null;n("comment",e.target.value)}}),"Maximaal 4500 karakters.")),d.a.createElement("button",{type:"button",className:"btn btn-light",onClick:i,disabled:this.hasAlreadyReviewed()},"Opsturen"))):null}}]),t}(m.Component),Dt=Object(v.b)(function(e,t){return{movie:e.entities.movies[t.match.params.movieId]||null,comment:e.reviews.review.comment,name:e.reviews.review.name}},function(e,t){return{fetchMovie:function(){return e(U(t.match.params.movieId))},setMovieId:function(){return e(jt("movieId",t.match.params.movieId))},setReview:function(t,n){return e(jt(t,n))},createReview:function(){return e(function(e,t){var n=t().reviews.review;return D({url:"".concat("https://localhost:5001/").concat("api/review","/post"),data:Object(w.a)({},n,{comment:bt()(n.comment)}),headers:{"content-type":"application/json"}}).then(function(e){return localStorage.setItem(n.movieId,e.data.removalId),g.toast.info("Bedankt voor het opsturen van jouw review! Nadat jouw review is goedgekeurd zal deze op de website te zien zijn."),e})})}}})(St),Mt=n(146),_t=n(147),Pt=n(148),xt=n(149),Rt=new T.b.Entity("movies"),At=[Rt],Ut=function(e){return{type:"SET_ENTITIES",payload:e,entityType:"movies"}},zt=function(e){return function(t,n){return g.toast.info("De film wordt ge\xfcpdatet."),(a={url:"".concat("https://localhost:5001/").concat("api/movie","/update"),data:n().entities.movies[e]},N(Object(w.a)({method:"PUT"},a))).then(function(e){return e.data.success?g.toast.success("Gelukt"):g.toast.warn("Update is niet gelukt.")});var a}},Yt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1,selected:0},n.handleClick=n.handleClick.bind(Object(J.a)(Object(J.a)(n))),n.addMovie=n.addMovie.bind(Object(J.a)(Object(J.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.getMovieCount,a=t.getMovies;return Promise.all([n(),a()]).then(function(){return e.setState({initialized:!0})})}},{key:"addMovie",value:function(){var e=this.props,t=e.history,n=e.match;t.push("".concat(n.path,"/new"))}},{key:"handleClick",value:function(e){var t=this.props.getMovies;return this.setState({selected:e}),t(25*e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.initialized,a=t.selected,r=this.props,i=r.pagination,c=r.movies,o=r.onMovieSelect;return n?d.a.createElement(d.a.Fragment,null,d.a.createElement("button",{onClick:function(){return e.props.fetchInitialMovies()}},"Active"),d.a.createElement(Mt.a,{responsive:!0,className:"with-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Titel"),d.a.createElement("th",null,"Jaar"),d.a.createElement("th",null,"Genres"),d.a.createElement("th",null,"Looptijd"),d.a.createElement("th",null,"Taal"),d.a.createElement("th",null,"Actief"))),d.a.createElement("tbody",null,Object.values(c).map(function(e){return d.a.createElement("tr",{key:e.id,onClick:function(){return o(e.id)}},d.a.createElement("td",null,e.title),d.a.createElement("td",null,e.year),d.a.createElement("td",null,e.genres.join(", ")),d.a.createElement("td",null,e.runtime),d.a.createElement("td",null,e.language),d.a.createElement("td",null,e.active?"Ja":"Nee"))}))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-1"},d.a.createElement(Ze,{destination:"/secure"})),d.a.createElement("div",{className:"col-lg-9"},d.a.createElement(_t.a,{"aria-label":"Page navigation example"},d.a.createElement(Pt.a,null,d.a.createElement(xt.a,{previous:!0,href:"#"})),i.map(function(t){return d.a.createElement(Pt.a,{active:a===t,key:t,onClick:function(){return e.handleClick(t)}},d.a.createElement("div",{className:"page-link"},t))}),d.a.createElement(Pt.a,null,d.a.createElement(xt.a,{next:!0,href:"#"})))),d.a.createElement("div",{className:"col-lg-2"},d.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.addMovie},"Nieuwe film toevoegen")))):null}}]),t}(m.Component),Ft=Object(v.b)(function(e){return{pagination:e.movies.pagination,movies:e.entities.movies}},function(e,t){return{getMovieCount:function(){return e(function(e){return S({url:"".concat("https://localhost:5001/").concat("api/movie","/total")}).then(function(t){return e({type:"SET_MOVIE_PROPERTY",movieProperty:"maxNumberOfMovies",payload:t.data.total})})})},getMovies:function(e){return t.getMovies(e||0)},fetchInitialMovies:function(){return e(z(100))}}})(Object(F.a)(Yt)),Lt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n.onMovieSelect=n.onMovieSelect.bind(Object(J.a)(Object(J.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({initialized:!0})}},{key:"onMovieSelect",value:function(e){var t=this.props,n=t.history,a=t.match;return n.push("".concat(a.path,"/").concat(e))}},{key:"render",value:function(){var e=this.state.initialized,t=this.props.getMovies;return e?d.a.createElement(Ft,{onMovieSelect:this.onMovieSelect,getMovies:t}):null}}]),t}(m.Component),Ht=Object(v.b)(function(e){return{}},function(e){return{getMovies:function(t){return e(function(e){return function(t){return S({url:"".concat("https://localhost:5001/").concat("api/movie","/pagination/").concat(e)}).then(function(e){var n=Object(T.a)(e.data,At);return t(Ut(n.entities.movies))})}}(t||0))}}})(Lt),Vt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n.updateProperty=n.updateProperty.bind(Object(J.a)(Object(J.a)(n))),n.sendUpdatedMovie=n.sendUpdatedMovie.bind(Object(J.a)(Object(J.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.movie,a=t.fetchMovieById;if(!n)return a().then(function(){return e.setState({initialized:!0})});this.setState({initialized:!0})}},{key:"updateProperty",value:function(e,t){return(0,this.props.editMovie)(e,t)}},{key:"sendUpdatedMovie",value:function(){var e=this.props.sendUpdatedMovie;return e()}},{key:"render",value:function(){var e=this,t=this.state.initialized,n=this.props.movie;return t?d.a.createElement(d.a.Fragment,null,d.a.createElement(Mt.a,null,d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Onderwerp"),d.a.createElement("th",null,"Waarde"))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,"Titel"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:n.title||"",onChange:function(t){return e.updateProperty(t.target.value,"title")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Beschrijving"),d.a.createElement("td",null,d.a.createElement("textarea",{type:"text",value:n.description||"",onChange:function(t){return e.updateProperty(t.target.value,"description")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jaar"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:n.year||"",onChange:function(t){return e.updateProperty(t.target.value,"year")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Genres"),d.a.createElement("td",null,n.genres.join(", "))),d.a.createElement("tr",null,d.a.createElement("td",null,"Looptijd"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:n.runtime||"",onChange:function(t){return e.updateProperty(t.target.value,"runtime")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Poster URL"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:n.posterUrl||"",onChange:function(t){return e.updateProperty(t.target.value,"posterUrl")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Taal"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:n.language||"",onChange:function(t){return e.updateProperty(t.target.value,"language")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Actief"),d.a.createElement("td",null,d.a.createElement("input",{type:"checkbox",checked:n.active,onChange:function(){return e.updateProperty(!n.active,"active")}}))))),d.a.createElement(Ze,{destination:"/secure/movies"}),d.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.sendUpdatedMovie},"Opslaan")):null}}]),t}(m.Component),$t=Object(v.b)(function(e,t){return{movie:e.entities.movies[t.match.params.id]}},function(e,t){return{fetchMovieById:function(){return e(U(t.match.params.id))},editMovie:function(n,a){return e({type:"UPDATE_ENTITY",property:a,entityType:"movies",id:t.match.params.id,payload:n})},sendUpdatedMovie:function(){return e(zt(t.match.params.id))}}})(Vt),Bt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).updateProperty=n.updateProperty.bind(Object(J.a)(Object(J.a)(n))),n.saveMovie=n.saveMovie.bind(Object(J.a)(Object(J.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"updateProperty",value:function(e,t){return(0,this.props.editMovie)(e,t)}},{key:"saveMovie",value:function(){var e=this.props,t=e.postNewMovie,n=e.history;return t().then(function(e){return n.push("/secure/movies/".concat(e))})}},{key:"render",value:function(){var e=this,t=this.props.movie;return d.a.createElement(d.a.Fragment,null,d.a.createElement(Mt.a,null,d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Onderwerp"),d.a.createElement("th",null,"Waarde"))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,"Titel"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:t.title||"",onChange:function(t){return e.updateProperty(t.target.value,"title")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Beschrijving"),d.a.createElement("td",null,d.a.createElement("textarea",{type:"text",value:t.description||"",onChange:function(t){return e.updateProperty(t.target.value,"description")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jaar"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:t.year||"",onChange:function(t){return e.updateProperty(t.target.value,"year")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Genres"),d.a.createElement("td",null,t.genres.join(", "))),d.a.createElement("tr",null,d.a.createElement("td",null,"Looptijd"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:t.runtime||"",onChange:function(t){return e.updateProperty(t.target.value,"runtime")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Poster URL"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:t.posterUrl||"",onChange:function(t){return e.updateProperty(t.target.value,"posterUrl")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Taal"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:t.language||"",onChange:function(t){return e.updateProperty(t.target.value,"language")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Actief"),d.a.createElement("td",null,d.a.createElement("input",{type:"checkbox",checked:t.active,onChange:function(){return e.updateProperty(!t.active,"active")}}))))),d.a.createElement(Ze,{destination:"/secure/movies"}),d.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.saveMovie},"Opslaan"))}}]),t}(m.Component),Wt=Object(v.b)(function(e){return{movie:e.movies.new}},function(e){return{editMovie:function(t,n){return e({type:"UPDATE_NEW_MOVIE",property:n,payload:t})},postNewMovie:function(){return e(function(e,t){return g.toast.info("De film wordt opgeslagen."),D({url:"".concat("https://localhost:5001/").concat("api/movie","/new"),data:t().movies.new}).then(function(t){g.toast.success("Opslaan is gelukt!");var n=Object(T.a)(t.data.success,Rt);return e({type:"SET_INITIAL_STATE"}),e(Ut(n.entities.movies)),t.data.success.id})})}}})(Bt),Kt=new T.b.Entity("surveys"),qt=[Kt],Gt=function(e){return{type:"SET_ENTITIES",entityType:"surveys",payload:e}},Jt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;return(0,this.props.getSurveys)().then(function(){return e.setState({initialized:!0})})}},{key:"render",value:function(){var e=this.state.initialized,t=this.props,n=t.surveys,a=t.onSurveySelect;return e?d.a.createElement(d.a.Fragment,null,d.a.createElement(Mt.a,{responsive:!0,className:"with-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Titel"))),d.a.createElement("tbody",null,Object.values(n).map(function(e){return d.a.createElement("tr",{key:e.id,onClick:function(){return a(e.id)}},d.a.createElement("td",null,e.title))}))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-2"},d.a.createElement(Ze,{destination:"/secure"})),d.a.createElement("div",{className:"col-lg-2"},d.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.addMovie},"Nieuwe enquete toevoegen")))):null}}]),t}(m.Component),Zt=Object(v.b)(function(e){return{surveys:e.entities.surveys}},function(e){return{getSurveys:function(){return e(function(e){return S({url:"".concat("https://localhost:5001/").concat("api/survey")}).then(function(t){var n=Object(T.a)(t.data,qt);return e(Gt(n.entities.surveys))})})}}})(Jt),Xt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n.onSurveySelect=n.onSurveySelect.bind(Object(J.a)(Object(J.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({initialized:!0})}},{key:"onSurveySelect",value:function(e){var t=this.props,n=t.history,a=t.match;return n.push("".concat(a.path,"/").concat(e))}},{key:"render",value:function(){return this.state.initialized?d.a.createElement(Zt,{onSurveySelect:this.onSurveySelect}):null}}]),t}(m.Component),Qt=Object(v.b)(function(e){return{}},function(e,t){return{}})(Xt),en=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;return(0,this.props.getResult)().then(function(){return e.setState({initialized:!0})})}},{key:"render",value:function(){var e=this.state.initialized,t=this.props.survey;return e?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-2"},"Titel van enquete:"),d.a.createElement("div",{className:"col-sm-10"},t.title)),t.questions.map(function(e,n){return d.a.createElement(d.a.Fragment,null,e.answerRequired&&d.a.createElement(Mt.a,{key:"text_".concat(e.id)},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("td",null,"#"),d.a.createElement("td",null,"Vraag: ".concat(e.questionText)))),d.a.createElement("tbody",null,t.answers[n].map(function(e,t){return d.a.createElement("tr",null,d.a.createElement("td",null,t+1),d.a.createElement("td",null,e.answerText))}))),e.ratingRequired&&d.a.createElement(Mt.a,{key:"rating".concat(e.id)},d.a.createElement("tbody",null,d.a.createElement("td",null,"Hoi2"))))}),d.a.createElement(Ze,{destination:"/secure/surveys"})):null}}]),t}(m.Component),tn=Object(v.b)(function(e,t){return{survey:e.entities.surveys[t.match.params.id]}},function(e,t){return{getResult:function(){return e((n=t.match.params.id,function(e){return S({url:"".concat("https://localhost:5001/").concat("api/survey","/").concat(n)}).then(function(t){var n=Object(T.a)(t.data,Kt);return e(Gt(n.entities.surveys))})}));var n}}})(Object(F.a)(en)),nn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n.getPerformancesToday=n.getPerformancesToday.bind(Object(J.a)(Object(J.a)(n))),n.goToPerformance=n.goToPerformance.bind(Object(J.a)(Object(J.a)(n))),n.createNewPerformance=n.createNewPerformance.bind(Object(J.a)(Object(J.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;return(0,this.props.getPerformancesOnDate)().then(function(){return e.setState({initialized:!0})})}},{key:"createNewPerformance",value:function(){var e=this.props,t=e.history,n=e.match;return t.push("".concat(n.path,"/create"))}},{key:"getPerformancesToday",value:function(){var e=this.props,t=e.setDate,n=e.getPerformancesOnDate;return t(we()().format("YYYY-MM-DD")).then(function(){return n()})}},{key:"goToPerformance",value:function(e){var t=this.props,n=t.history,a=t.match;return n.push("".concat(a.path,"/").concat(e))}},{key:"render",value:function(){var e=this,t=this.state.initialized,n=this.props,a=n.setDate,r=n.getPerformancesAfterDate,i=n.getPerformancesBeforeDate,c=n.getPerformancesOnDate,o=n.date,l=n.performances;return t?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"row justify-content-around"},d.a.createElement("button",{type:"button",className:"btn btn-light"},"Voorstellingen vandaag"),d.a.createElement("div",null,"Datum:",d.a.createElement("input",{value:o,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"jjjj-mm-dd"})),d.a.createElement("button",{onClick:c,type:"button",className:"btn btn-light"},"Zoeken op datum"),d.a.createElement("button",{onClick:i,type:"button",className:"btn btn-light"},"Zoeken voor datum"),d.a.createElement("button",{onClick:r,type:"button",className:"btn btn-light"},"Zoeken na datum")),d.a.createElement(Mt.a,{className:"with-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Naam film"),d.a.createElement("th",null,"Starttijd"),d.a.createElement("th",null,"Eindtijd"),d.a.createElement("th",null,"Zaal"),d.a.createElement("th",null,"Bezetting"))),d.a.createElement("tbody",null,Object.values(l).map(function(t){return d.a.createElement("tr",{key:t.id,onClick:function(){return e.goToPerformance(t.id)}},d.a.createElement("td",null,t.movieId),d.a.createElement("td",null,t.startTime),d.a.createElement("td",null,t.endTime),d.a.createElement("td",null,t.hallId),d.a.createElement("td",null,"".concat(t.chairs.filter(function(e){return e.taken}).length,"/").concat(t.chairs.length," ")))}))),d.a.createElement(Ze,{destination:"/secure"}),d.a.createElement("button",{onClick:this.createNewPerformance,type:"button",className:"btn btn-light"},"Nieuwe voorstelling")):null}}]),t}(m.Component),an=Object(v.b)(function(e){return{date:e.performance.date,performances:e.entities.performances}},function(e){return{getPerformancesOnDate:function(){return e(De())},getPerformancesBeforeDate:function(){return e(De("before"))},getPerformancesAfterDate:function(){return e(De("after"))},setDate:function(t){return e({type:"SET_DATE",payload:t})}}})(nn),rn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({initialized:!0})}},{key:"render",value:function(){var e=this.state.initialized;this.props.isCustomer;return e?d.a.createElement(d.a.Fragment,null,d.a.createElement(Qe,null)):null}}]),t}(m.Component),cn=Object(v.b)(function(e){return{isCustomer:0===e.entities.user.role}},function(e){return{}})(rn),on=n(150),ln=n(151),un=n(152),sn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1,errors:[]},n.validate=n.validate.bind(Object(J.a)(Object(J.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;return(0,this.props.initialize)().then(function(){return e.setState({initialized:!0})})}},{key:"componentWillUnmount",value:function(){this.props.unmount()}},{key:"validate",value:function(){var e=this;return(0,this.props.createPerformance)().then(function(t){return e.setState({errors:t})})}},{key:"hasError",value:function(e){return this.state.errors.indexOf(e)>-1?"error":""}},{key:"render",value:function(){var e=this.state.initialized,t=this.props,n=t.movies,a=t.halls,r=t.newPerformance,i=t.setMovie,c=t.setHall,o=t.set3D,l=t.setDate,u=t.setStartTime,s=t.setEndTime;return e?d.a.createElement(d.a.Fragment,null,d.a.createElement(on.a,{className:"form-group"},d.a.createElement(ln.a,{htmlFor:"filmcontrol"},"Film"),d.a.createElement("select",{className:"form-control ".concat(this.hasError("movieId")),id:"filmcontrol",value:r.movieId,onChange:function(e){return i(e.target.value)}},d.a.createElement("option",{value:"0"}),Object.keys(n).map(function(e){return d.a.createElement("option",{key:e,value:e},n[e].title)}))),d.a.createElement(on.a,null,d.a.createElement(ln.a,{htmlFor:"hallcontrol"},"Zaal"),d.a.createElement("select",{className:"form-control ".concat(this.hasError("hallId")),id:"hallcontrol",value:r.hallId,onChange:function(e){return c(e.target.value)}},d.a.createElement("option",{value:"0"}),Object.keys(a).map(function(e){return d.a.createElement("option",{key:e,value:e},a[e].name)}))),d.a.createElement(on.a,null,d.a.createElement(ln.a,{for:"date"},"Datum"),d.a.createElement(un.a,{className:"".concat(this.hasError("date")),type:"date",name:"date",id:"date",placeholder:"date placeholder",onChange:function(e){return l(e.target.value)}})),d.a.createElement(on.a,null,d.a.createElement(ln.a,{for:"startTime"},"Starttijd"),d.a.createElement(un.a,{className:"".concat(this.hasError("startTime")),onChange:function(e){return u(e.target.value)},type:"time",name:"time",id:"startTime",placeholder:"Start"})),d.a.createElement(on.a,null,d.a.createElement(ln.a,{for:"endTime"},"Eindtijd"),d.a.createElement(un.a,{className:"".concat(this.hasError("endTime")),onChange:function(e){return s(e.target.value)},type:"time",name:"time",id:"endTime",placeholder:"Eind"})),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"3d"},"3D-voorstelling"),d.a.createElement("input",{type:"checkbox",className:"form-control",id:"3d",checked:r.threeDimensional,onChange:function(){return o(!r.threeDimensional)}})),d.a.createElement(Ze,{destination:"/secure/performances"}),d.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.validate},"Aanmaken")):null}}]),t}(m.Component),mn=Object(v.b)(function(e){return{newPerformance:e.performance.new,halls:e.entities.halls,movies:e.entities.movies}},function(e){return{initialize:function(){return e(function(e){return Promise.all([e(function(e){return S({url:"".concat(k).concat("api/hall")}).then(function(t){var n=Object(T.a)(t.data,A);return e(Ne(n.entities.halls))})}),e(z(50))])})},createPerformance:function(){return e(_e())},setDate:function(t){return e(Se("date",t))},setMovie:function(t){return e(Se("movieId",t))},setHall:function(t){return e(Se("hallId",t))},set3D:function(t){return e(Se("threeDimensional",t))},setStartTime:function(t){return e(Se("startTime",t))},setEndTime:function(t){return e(Se("endTime",t))},unmount:function(){return e({type:"SET_INITIAL_PERFORMANCE"})}}})(sn),dn=function(e){var t=e.render,n=Object(b.a)(e,["render"]);return d.a.createElement(O.a,Object.assign({},n,{render:function(e){return parseInt(n.role,10)>0?d.a.createElement(t,e):d.a.createElement("div",null,"You should not have come here!")}}))},pn=Object(v.b)(function(e){return{role:e.entities.user.role}})(function(e){var t=e.role;return d.a.createElement(d.a.Fragment,null,d.a.createElement(y.a,null,d.a.createElement(j.a,null,d.a.createElement(dn,{key:"secure",role:t,path:"/secure",render:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(j.a,null,d.a.createElement(O.a,{exact:!0,path:"/secure/performances",component:an}),d.a.createElement(O.a,{exact:!0,path:"/secure/performances/create",component:mn}),d.a.createElement(O.a,{exact:!0,path:"/secure/performances/:performanceId",component:cn}),d.a.createElement(O.a,{exact:!0,path:"/secure/surveys",component:Qt}),d.a.createElement(O.a,{exact:!0,path:"/secure/surveys/:id",component:tn}),d.a.createElement(O.a,{exact:!0,path:"/secure/movies",component:Ht}),d.a.createElement(O.a,{exact:!0,path:"/secure/movies/new",component:Wt}),d.a.createElement(O.a,{exact:!0,path:"/secure/movies/:id",component:$t}),d.a.createElement(O.a,{exact:!0,path:"/secure/reviews/:id",component:Nt}),d.a.createElement(O.a,{exact:!0,path:"/secure/reviews",component:It}),d.a.createElement(O.a,{exact:!0,path:"/secure",component:dt}),d.a.createElement(O.a,{path:"/secure/*",render:function(){return d.a.createElement("div",null,"404 Niet gevonden.")}})))}}),d.a.createElement(O.a,{render:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(j.a,null,d.a.createElement(O.a,{key:"web",exact:!0,path:"/web",component:ut}),d.a.createElement(O.a,{key:"postReview",exact:!0,path:"/web/movie/:movieId/reviews/post",component:Dt}),d.a.createElement(O.a,{key:"performance",exact:!0,path:"/web/performance/:performanceId",component:Qe}),d.a.createElement(O.a,{key:"performances",exact:!0,path:"/web/performances/:movieId",component:ft})))}}),d.a.createElement(O.a,{key:"tickets",exact:!0,path:"/tickets",component:ht}),d.a.createElement(O.a,{path:"*",render:function(){return d.a.createElement("div",null,"404 Niet gevonden.")}}))),d.a.createElement(g.ToastContainer,null))}),hn=n(13),vn=n.n(hn),fn={seats:[],performanceId:"",name:"",email:""},En=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PURCHASE_ADD_SEAT":return vn()(e,{seats:{$push:[t.payload]}});case"SET_PURCHASE_PROPERTY":return vn()(e,Object(X.a)({},t.purchaseType,{$set:t.payload}));case"PURCHASE_REMOVE_SEAT":var n=e.seats.findIndex(function(e){return e.row===t.payload.row&&e.chair===t.payload.chair});return vn()(e,{seats:{$splice:[[n,1]]}});case"PURCHASE_SET_PERFORMANCE_ID":return vn()(e,{performanceId:{$set:t.payload}});case"SET_TICKET_DISCOUNT":var a=Object(Ie.a)(e.seats),r=e.seats.findIndex(function(e){return e.row===t.payload.row&&e.chair===t.payload.chair});return a.splice(r,1,t.payload),vn()(e,{seats:{$set:a}});case"EMPTY_SEATS":return vn()(e,{seats:{$set:[]}});case"SET_CALCULATED_DISCOUNT":return vn()(e,{seats:{$set:t.payload}});default:return e}},bn={date:we()().format("YYYY-MM-DD"),new:{threeDimensional:!1,movieId:"",date:"",startTime:"",endTime:"",hallId:"",chairs:[]}},On=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATE":return vn()(e,{date:{$set:t.payload}});case"SET_PERFORMANCE_PROPERTY":return vn()(e,{new:Object(X.a)({},t.property,{$set:t.payload})});case"SET_INITIAL_PERFORMANCE":return Object(w.a)({},bn,{date:e.date});default:return e}},yn={movies:{},performances:{},halls:{},reviews:{},surveys:{},tickets:{},user:{}},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"entities/SET_TO_INITIAL_STATE":return Object(w.a)({},yn,{user:e.user});case"SET_ENTITIES":return vn()(e,Object(X.a)({},t.entityType,{$set:t.payload}));case"UPDATE_ENTITY":return vn()(e,Object(X.a)({},t.entityType,Object(X.a)({},t.id,Object(X.a)({},t.property,{$set:t.payload}))));case"SET_SEAT_TAKEN":var n=t.payload,a=n.performanceId,r=n.chair,i=n.row,c=n.taken,o=n.ticketId,l=e.performances[a].chairs.findIndex(function(e){return e.chair===r&&e.row===i}),u=Object(Ie.a)(e.performances[a].chairs);return u.splice(l,1,{chair:r,row:i,taken:c,ticketId:o}),vn()(e,{performances:Object(X.a)({},a,{chairs:{$set:u}})});default:return e}},gn={unapproved:{},review:{name:"",movieId:"",comment:""}},Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UNAPPROVED_REVIEWS":return vn()(e,{unapproved:{$set:t.payload}});case"CONSTRUCT_REVIEW":return vn()(e,{review:Object(X.a)({},t.property,{$set:t.payload})});case"REMOVE_REVIEW":return vn()(e,{unapproved:{$unset:[t.payload]}});default:return e}},kn={maxNumberOfMovies:0,pagination:[],new:{title:"",runtime:"",year:"",cast:[],genres:["To do"],posterUrl:"",description:"",language:"",active:!1},search:""},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIE_PROPERTY":var n,a=Math.ceil(t.payload/25);return vn()(e,(n={},Object(X.a)(n,t.movieProperty,{$set:t.payload}),Object(X.a)(n,"pagination",{$set:Array.from(Array(a),function(e,t){return t})}),n));case"UPDATE_NEW_MOVIE":return vn()(e,{new:Object(X.a)({},t.property,{$set:t.payload})});case"SET_INITIAL_STATE":return kn;default:return e}},In={new:{title:"",questions:[{question:"",answer:"",answerRequired:!1,rating:"",ratingRequired:!1}],active:!1}},Cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"survey/ADD_QUESTION":var n,a=Math.ceil(t.payload/25);return vn()(e,(n={},Object(X.a)(n,t.movieProperty,{$set:t.payload}),Object(X.a)(n,"pagination",{$set:Array.from(Array(a),function(e,t){return t})}),n));case"survey/SET_PROPERTY":return vn()(e,{new:Object(X.a)({},t.property,{$set:t.payload})});case"survey/SET_INITIAL_STATE":return In;default:return e}},Nn=Object(f.combineReducers)({entities:jn,purchase:En,reviews:Tn,movies:wn,performance:On,surveys:Cn}),Sn=Object(f.applyMiddleware)(E.a),Dn=Object(f.createStore)(Nn,Sn),Mn=document.getElementById("root"),_n=Mn.getAttribute("data-auth"),Pn=Mn.getAttribute("data-logged-in-as"),xn=Mn.getAttribute("data-role"),Rn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return d.a.createElement(pn,null)}}]),t}(d.a.Component),An=Object(v.b)(null,function(e){return{initializeApp:function(){return e(function(){return{type:"SET_ENTITIES",entityType:"user",payload:{auth:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,loggedInAs:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Anonymous",role:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0}}}(_n,Pn,xn))}}})(Rn);h.a.render(d.a.createElement(function(){return d.a.createElement(v.a,{store:Dn},d.a.createElement(An,null))},null),document.getElementById("root"))},72:function(e,t,n){e.exports=n(139)}},[[72,1,2]]]);
//# sourceMappingURL=main.805fd219.chunk.js.map