(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var a,r,i,c=n(7),o=n(8),l=n(11),u=n(9),s=n(10),m=n(0),d=n.n(m),p=n(26),h=n.n(p),v=(n(82),n(4)),E=n(27),f=n(63),b=n(24),y=n(166),O=n(167),g=n(168),j=n(19),w=n(14),T=n(18),k=n(64),I=n.n(k),C=I.a.create(),N=function(e){return C(Object(T.a)({method:"GET"},e))},S=function(e){return C(Object(T.a)({method:"POST"},e))},_=function(e){return C(Object(T.a)({method:"PUT"},e))},D=new w.b.Entity("movies"),U=new w.b.Entity("performances"),x=new w.b.Entity("halls"),M=[D],R=[U],A=[x],P=function(e){return function(t,n){return N({url:"".concat(n().user.websiteUrl).concat("api/movie","/").concat(e)}).then(function(e){var n=Object(w.a)(e.data,D);return t({type:"SET_ENTITIES",payload:n.entities.movies,entityType:"movies"})})}},L=function(e){return function(t,n){return N({url:"".concat(n().user.websiteUrl).concat("api/movie","/active/").concat(e)}).then(function(e){var n=Object(w.a)(e.data,M);return t({type:"SET_ENTITIES",payload:n.entities.movies,entityType:"movies"})})}},z=n(65),Y=n(68),F=function(){return d.a.createElement("div",{id:"screen"})},q=d.a.createContext(),V=n(5),H=n.n(V),$=[1,2,3,4,5,6,7,8],B=[1,2,3,4,5,6],Q=[1,2,3,4],W=[1,2,3,4,5,6,7,8,9,10],G=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],K=n(2),J=n(30),Z=n(6),X=(a={},Object(Z.a)(a,"NO_DISCOUNT","-1"),Object(Z.a)(a,"CHILD_DISCOUNT","0"),Object(Z.a)(a,"STUDENT_DISCOUNT","1"),Object(Z.a)(a,"ELDERLY_DISCOUNT","2"),Object(Z.a)(a,"CINEMA_TICKET_DISCOUNT","3"),a),ee={"-1":"NO_DISCOUNT",0:"CHILD_DISCOUNT",1:"STUDENT_DISCOUNT",2:"ELDERLY_DISCOUNT",3:"CINEMA_TICKET_DISCOUNT"},te=(r={},Object(Z.a)(r,"NO_DISCOUNT",0),Object(Z.a)(r,"CHILD_DISCOUNT",-1.5),Object(Z.a)(r,"STUDENT_DISCOUNT",-1.5),Object(Z.a)(r,"ELDERLY_DISCOUNT",-1.5),Object(Z.a)(r,"CINEMA_TICKET_DISCOUNT",0),Object(Z.a)(r,"THREE_DEE",2.5),Object(Z.a)(r,"REGULAR",8.5),Object(Z.a)(r,"EXTENDED",9.5),r),ne=(i={},Object(Z.a)(i,"NO_DISCOUNT","Geen korting"),Object(Z.a)(i,"CHILD_DISCOUNT","Kinderkorting"),Object(Z.a)(i,"STUDENT_DISCOUNT","Studentenkorting"),Object(Z.a)(i,"ELDERLY_DISCOUNT","65+ reductie"),Object(Z.a)(i,"CINEMA_TICKET_DISCOUNT","Nationale Bioscoopbon"),Object(Z.a)(i,"THREE_DEE","3D"),Object(Z.a)(i,"REGULAR","Ticket"),Object(Z.a)(i,"EXTENDED","Ticket"),i),ae=function(e){return e.entities.performances},re=function(e){return e.entities.halls},ie=function(e){return e.entities.movies},ce=function(e){return e.purchase.seats},oe=function(e){return e.purchase.performanceId},le=function(e){return Object(J.a)(ae,function(t){return t[e]})},ue=function(e){return Object(J.a)(le(e),re,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0)[e.hallId]})},se=function(e,t){return Object(J.a)(ce,function(n){return n.some(function(n){return n.row===e&&n.chair===t})})},me=Object(J.a)(oe,function(e){return["NO_DISCOUNT","STUDENT_DISCOUNT","ELDERLY_DISCOUNT","CINEMA_TICKET_DISCOUNT"]}),de=Object(J.a)(oe,ae,ce,ie,function(e,t,n,a){var r=parseInt(a[t[e].movieId].runtime.substr(0,1),10)>=2?te.EXTENDED:te.REGULAR,i=t[e].threeDimensional?te.THREE_DEE:0;return n.map(function(e){var t=r+i,n=[te[ee[e.discount]]][0];return Object(T.a)({},e,{price:t+n})})}),pe=function(e,t){return{type:"SET_PURCHASE_PROPERTY",payload:t,purchaseType:e}},he=function(e,t){return{type:"SET_SEAT_TAKEN",payload:{performanceId:e.performanceId,chair:e.chair,row:e.row,ticketId:e.id,taken:t}}},ve=function(){return function(e,t){return e({type:"SET_CALCULATED_DISCOUNT",payload:de(t())})}},Ee=function(){return function(e,t){var n=t().purchase,a=t().user.websiteUrl;return j.toast.info("Een moment geduld aub. Uw bestelling wordt verwerkt."),Promise.all(n.seats.map(function(e){return function(e,t){return S({url:"".concat(t).concat("api/ticket"),data:e}).then(function(e){return e.data})}({performanceId:n.performanceId,chair:e.chair,row:e.row,price:e.price,discount:e.discount,name:n.name||"Anoniem",email:n.email||"Geen"},a)})).then(function(t){return Promise.all(t.map(function(t){return e(he(t,!0)),function(e,t){var n=e.performanceId,a=e.chair,r=e.row,i=e.id;return S({url:"".concat(t).concat("api/performance","/").concat(n,"/seat"),data:{chair:a,row:r,ticketId:i}})}(t,a)}))}).then(function(){return j.toast.success("Uw bestelling is verwerkt. U ontvangt een e-mail met uw tickets.")}).then(function(){return e({type:"EMPTY_SEATS"})}).catch(function(){return j.toast.warn("Oh jee, er is iets fout gegaan.")})}},fe=function(e){var t=e.func;return d.a.createElement("div",{className:"modal"},d.a.createElement("div",{className:"modal-body"},d.a.createElement("div",null,"Let op! Je wijziging kan niet ongedaan worden gemaakt."),d.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return t(1)}},"Bevestigen"),d.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){return t(0)}},"Annuleren")))},be=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).delete=function(e){return 0===e&&n.setState({showModal:!1,open:!1}),(0,n.props.removeBooking)().then(function(){return n.setState({showModal:!1,open:!1})})},n.state={open:!1,showModal:!1},n.handleClick=n.handleClick.bind(Object(K.a)(Object(K.a)(n))),n.close=n.close.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"close",value:function(e){e.stopPropagation(),this.setState({open:!1})}},{key:"handleClick",value:function(){var e=this.props,t=e.performanceChair.taken,n=e.isSelected,a=e.performanceAddSeat,r=e.performanceRemoveSeat,i=e.isCustomer;return t&&i?null:t&&!i?this.setState({open:!0}):n?r():a()}},{key:"render",value:function(){var e=this,t=this.props,n=t.performanceChair,a=t.isSelected,r=this.state,i=r.open,c=r.showModal;return d.a.createElement(d.a.Fragment,null,c&&d.a.createElement(fe,{func:this.delete}),d.a.createElement("div",{className:H()({chair:!0,available:!n.taken,unavailable:n.taken,selected:a}),onClick:this.handleClick},i&&d.a.createElement("div",{className:"cancel"},d.a.createElement("button",{className:"btn btn-light",type:"button",onClick:function(){return e.setState({showModal:!0})}},"Verwijder"),d.a.createElement("button",{className:"btn btn-light",type:"button",onClick:function(t){return e.close(t)}},"x"))))}}]),t}(d.a.Component),ye=Object(v.b)(function(e,t){return{performanceChair:(n=t.performanceId,a=t.row,r=t.chair,Object(J.a)(le(n),function(e){return e.chairs.find(function(e){return a===e.row&&e.chair===r})}))(e),isSelected:se(t.row,t.chair)(e)};var n,a,r},function(e,t){var n=t.row,a=t.chair,r=t.performanceId;return{performanceAddSeat:function(){return e((t={chair:a,row:n,discount:-1},function(e){e({type:"PURCHASE_ADD_SEAT",payload:t}),e(ve())}));var t},performanceRemoveSeat:function(){return e((t={chair:a,row:n},function(e){e({type:"PURCHASE_REMOVE_SEAT",payload:t}),e(ve())}));var t},removeBooking:function(){return e(function(e,t){return function(n,a){return _({url:"".concat(a().user.websiteUrl).concat("api/performance","/").concat(t,"/seat"),data:e}).then(function(){return n(he({performanceId:t,chair:e.chair,row:e.row,id:null},!1))})}}({row:n,chair:a},r))}}})(be),Oe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).chairs=15===e.chairs?G:W,n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.withClass,a=t.row;return d.a.createElement(q.Consumer,null,function(t){var r=t.performanceId,i=t.isCustomer;return d.a.createElement("div",{className:"row-chairs ".concat(n)},e.chairs.map(function(e){return d.a.createElement(ye,{key:e,row:a,chair:e,performanceId:r,isCustomer:i})}))})}}]),t}(d.a.Component),ge=Oe,je=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).rows=[],n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentWillUpdate",value:function(e){if(!this.props.rows&&e.rows){var t;switch(e.rows){case 4:t=Q;break;case 6:t=B;break;default:t=$}this.rows=t}return!0}},{key:"render",value:function(){var e=this.props,t=e.rows,n=e.chairs;return t&&n?d.a.createElement("div",{id:"rows-holder"},this.rows.reverse().map(function(e){return d.a.createElement(ge,{key:e,chairs:n[e-1].chairs,row:e,withClass:H()({"row-of-four":4===t,"row-of-six":6===t,"row-of-eight":8===t})},e)})):null}}]),t}(d.a.Component),we=Object(v.b)(function(e,t){return{rows:e.entities.halls[t.hallId]&&e.entities.halls[t.hallId].rows,chairs:e.entities.halls[t.hallId]&&e.entities.halls[t.hallId].chairs}})(je),Te=function(){return d.a.createElement(q.Consumer,null,function(e){var t=e.hallId;return d.a.createElement("div",{id:"hall"},d.a.createElement(we,{hallId:t}),d.a.createElement(F,null))})},ke=Object(v.b)(function(e){return{}},function(e){return{}})(function(e){return d.a.createElement("div",null,"BeepBoop ready to select.")}),Ie=n(23),Ce=n.n(Ie),Ne=n(28),Se=function(e){return{type:"SET_ENTITIES",payload:e,entityType:"performances"}},_e=function(e){return{type:"SET_ENTITIES",payload:e,entityType:"halls"}},De=function(e,t){return{type:"SET_PERFORMANCE_PROPERTY",property:e,payload:t}},Ue=function(e){return function(t,n){var a,r=n().performance.date;switch(e){case"before":a="".concat(n().user.websiteUrl).concat("api/performance","/beforeDate");break;case"after":a="".concat(n().user.websiteUrl).concat("api/performance","/afterDate");break;default:a="".concat(n().user.websiteUrl).concat("api/performance","/date")}return S({url:a,data:{date:r}}).then(function(e){var n=Object(w.a)(e.data,R);return t(Se(n.entities.performances||{}))})}},xe=function(e){return function e(t){var n=t.reduce(function(e,t){return e.push.apply(e,Object(Ne.a)(t)),e},[]);return n.some(function(e){return e instanceof Array})?e(n):n}(e.chairs.map(function(e){return Array.from(Array(e.chairs),function(e,t){return t+1}).map(function(t){return{ticketId:"",taken:!1,row:e.row,chair:t}})}))},Me=function(){return function(e,t){var n=t().performance.new,a=function(e){var t=[];e.movieId.length<10&&t.push("movieId"),e.hallId.length<10&&t.push("hallId"),Ce()(e.date).format("YYYY-MM-DD")<Ce()().format("YYYY-MM-DD")&&t.push("date"),e.date||t.push("date"),e.startTime||t.push("startTime"),e.endTime||t.push("endTime");var n=Ce()(e.startTime,"H:mm"),a=Ce()(e.endTime,"H:mm"),r=Ce.a.duration(a.diff(n)),i=parseInt(r.asHours(),10);return a.isBefore(n)&&t.push("endTime"),i<3&&t.push("startTime"),t}(n);if(a.length>0)return Promise.resolve(a);j.toast.info("De voorstelling wordt aangemaakt");var r={threeDimensional:n.threeDimensional,movieId:n.movieId,startTime:Ce()("".concat(n.date," ").concat(n.startTime)).format("YYYY-MM-DD HH:mm:00"),endTime:Ce()("".concat(n.date," ").concat(n.endTime)).format("YYYY-MM-DD HH:mm:00"),hallId:n.hallId,chairs:xe(t().entities.halls[n.hallId])};return S({url:"".concat(t().user.websiteUrl).concat("api/performance","/create"),data:r}).then(function(){return j.toast.success("Voorstelling is aangemaakt!"),e({type:"SET_INITIAL_PERFORMANCE"}),[]}).catch(function(){return j.toast.warn("Er is iets fout gegaan.")})}},Re=function(e){return function(t,n){return t(function(e){return function(t,n){return N({url:"".concat(n().user.websiteUrl).concat("api/performance","/").concat(e)}).then(function(e){var n=Object(w.a)(e.data,U);return t(Se(n.entities.performances))})}}(e)).then(function(){var a=n().entities.performances[e],r=a.movieId,i=a.hallId;return t(P(r)),t(function(e){return function(t,n){return N({url:"".concat(n().user.websiteUrl).concat("api/hall","/").concat(e)}).then(function(e){var n=Object(w.a)(e.data,x);return t(_e(n.entities.halls))})}}(i)),t({type:"PURCHASE_SET_PERFORMANCE_ID",payload:e}),null})}},Ae=function(e){var t=e.withClass,n=Object(b.a)(e,["withClass"]);return d.a.createElement("input",Object.assign({className:t},n))},Pe=function(e){var t=e.id,n=e.value,a=Object(b.a)(e,["id","value"]);return d.a.createElement("label",Object.assign({htmlFor:t},a),n)},Le=function(e){var t=e.onChange,n=e.id,a=e.labelValue,r=e.hasError,i=Object(b.a)(e,["onChange","id","labelValue","hasError"]);return d.a.createElement("div",{className:"p-b-15 w-100"},d.a.createElement(Pe,{htmlFor:n,value:a}),d.a.createElement(Ae,Object.assign({withClass:r?"inputbox error":"inputbox"},i,{onChange:t})))},ze=n(67),Ye=n.n(ze),Fe=function(e){var t=e.title;return d.a.createElement("h1",{className:"gray-title"},t)},qe=function(e){var t=e.value,n=e.name;return d.a.createElement("option",{value:t},n)},Ve=Object(v.b)(function(e){return{discounts:me(e)}},function(e,t){return{setDiscount:function(n){return e((a={discount:n,chair:t.chair,row:t.row},function(e){e({type:"SET_TICKET_DISCOUNT",payload:a}),e(ve())}));var a}}})(function(e){var t=e.discounts,n=e.setDiscount;return d.a.createElement("div",{className:"d-i-b"},d.a.createElement("div",{className:"order-row"}),d.a.createElement("select",{defaultValue:"-1",onChange:function(e){return n(e.target.value)}},t.map(function(e){return d.a.createElement(qe,{key:X[e],value:X[e],name:ne[e]})})))}),He=Object(v.b)(function(e){return{priceList:e.purchase.seats}})(function(e){var t=e.row,n=e.chair,a=e.priceList.find(function(e){return e.row===t&&e.chair===n}).price;return d.a.createElement("li",{className:"price-selector"},d.a.createElement(Ve,{row:t,chair:n}),d.a.createElement("div",{className:"price-tag"},new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR"}).format(a)))}),$e=function(e){var t=e.price;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"line-holder"},d.a.createElement("div",{className:"total-line"})),d.a.createElement("div",{className:"total-price"},d.a.createElement("div",{className:"price"},new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR"}).format(t))))},Be=function(e){return e.reduce(function(e,t){return e+=t.price},0)},Qe=Object(v.b)(function(e){return{seats:e.purchase.seats}})(function(e){var t=e.seats;return d.a.createElement(d.a.Fragment,null,d.a.createElement("ul",null,0===t.length&&d.a.createElement("div",null,"Klik op een stoel in het bovenstaande vakje om een plek te reserveren."),t.map(function(e){return d.a.createElement(He,Object.assign({key:"".concat(e.row,"-").concat(e.chair)},e))})),t.length>0&&d.a.createElement($e,{price:Be(t)}))}),We=function(e){return d.a.createElement(q.Consumer,null,function(t){var n=t.performanceId;return d.a.createElement(Qe,Object.assign({},e,{performanceId:n}))})},Ge=function(e){var t=e.title;return d.a.createElement("div",{className:"title-list"},d.a.createElement(Fe,{title:t}),d.a.createElement(Ye.a,null),d.a.createElement("div",{className:"circle","data-tip":"Let op! Bij het afgeven van jouw kaartjes moet je kunnen bewijzen dat je recht hebt op de gekozen korting."},"?"),d.a.createElement(We,null))},Ke=Object(v.b)(function(e){return{disabled:0===e.purchase.seats.length}})(function(e){var t=e.value,n=e.withClass,a=(e.dispatch,Object(b.a)(e,["value","withClass","dispatch"]));return d.a.createElement("button",Object.assign({},a,{className:n,type:"button"}),t)}),Je=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={emailError:!1},n.purchaseTickets=n.purchaseTickets.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"purchaseTickets",value:function(){var e=this.props,t=e.email,n=e.purchaseTickets;if(-1===t.indexOf("@")||t.length<=6)return this.setState({emailError:!0});this.setState({emailError:!1}),n()}},{key:"render",value:function(){var e=this.props,t=e.setName,n=e.name,a=e.setEmail,r=e.email,i=this.state.emailError;return d.a.createElement("div",{id:"purchase",className:"col-lg-5 col-md-6 col-sm-12 flex-wrap justify-content-center"},d.a.createElement(Le,{onChange:t,value:n,labelValue:"Vul hier jouw naam in:",id:"name"}),d.a.createElement(Le,{hasError:i,onChange:a,email:r,labelValue:"Vul hier jouw e-mailadres in:",id:"email"}),d.a.createElement(Ge,{title:"Jouw bestelling"}),d.a.createElement(Ke,{withClass:"btn btn-success",onClick:this.purchaseTickets,value:"Kopen"}))}}]),t}(d.a.Component),Ze=Object(v.b)(function(e){return{name:e.purchase.name,email:e.purchase.email}},function(e){return{purchaseTickets:function(){return e(Ee())},setName:function(t){return e(pe("name",t.target.value))},setEmail:function(t){return e(pe("email",t.target.value))}}})(Je),Xe=n(147),et=Object(Y.a)(function(e){var t=e.destination;return d.a.createElement(Xe.a,{to:t},d.a.createElement("button",{type:"button",className:"btn btn-light"},"Vorige"))}),tt=Object(v.b)(null,function(e){return{purchaseTickets:function(){return e(Ee())}}})(function(e){var t=e.purchaseTickets;return d.a.createElement("div",{id:"purchase",className:"col-lg-5 col-md-6 col-sm-12 flex-wrap justify-content-center"},d.a.createElement(Ge,{title:"De bestelling"}),d.a.createElement(Ke,{withClass:"btn btn-success",onClick:t,value:"Kopen"}))}),nt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.initPerformance,a=t.hideLoader;return(0,t.showLoader)(),n().then(function(){a(),e.setState({initialized:!0})})}},{key:"componentWillUnmount",value:function(){this.props.unmount()}},{key:"render",value:function(){var e=this.state.initialized,t=this.props,n=t.performance,a=t.isCustomer;return e?d.a.createElement("div",{id:"performance"},d.a.createElement(q.Provider,{value:{performanceId:n.id,hallId:n.hallId,isCustomer:a}},d.a.createElement(Te,null),d.a.createElement(z.a,{query:"(max-width: 467px)"},function(e){return e&&d.a.createElement("div",{id:"mobile-chair-selector"},d.a.createElement(ke,null))}),a&&d.a.createElement(Ze,null),!a&&d.a.createElement(tt,null)),d.a.createElement(et,{destination:"/secure/performances"})):null}}]),t}(d.a.Component),at=Object(Y.a)(Object(v.b)(function(e,t){return{isCustomer:0===e.user.role,performance:e.entities.performances[t.match.params.performanceId],movie:(n=t.match.params.performanceId,Object(J.a)(le(n),ie,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0)[e.movieId]}))(e),hall:ue(t.match.params.performanceId)(e)};var n},function(e,t){return{initPerformance:function(){return e(Re(t.match.params.performanceId))},unmount:function(){e({type:"entities/SET_TO_INITIAL_STATE"}),e({type:"EMPTY_SEATS"})},showLoader:function(){return e({type:"SET_LAYOUT",payload:!0})},hideLoader:function(){return e({type:"SET_LAYOUT",payload:!1})}}})(nt)),rt=n(148),it=n(149),ct=n(72),ot=n(150),lt=n(151),ut=function(e){var t=e.movies,n=e.onClick;return d.a.createElement("div",{className:"row "},t.map(function(e){return d.a.createElement("div",{onClick:function(){return n(e.id)},className:"col-sm-3",style:{maxHeight:"400px"}},d.a.createElement("img",{style:{width:"100%",height:"auto"},alt:"ok",src:e.posterUrl}))}))},st=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1,activeIndex:0,movies:[]},n.next=n.next.bind(Object(K.a)(Object(K.a)(n))),n.previous=n.previous.bind(Object(K.a)(Object(K.a)(n))),n.goToIndex=n.goToIndex.bind(Object(K.a)(Object(K.a)(n))),n.onExiting=n.onExiting.bind(Object(K.a)(Object(K.a)(n))),n.onExited=n.onExited.bind(Object(K.a)(Object(K.a)(n))),n.onClickMovie=n.onClickMovie.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.movies;this.setState({movies:this.spliceMovies(Object.values(e)),initialized:!0})}},{key:"onClickMovie",value:function(e){return this.props.history.push("web/movie/".concat(e))}},{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state,t=e.activeIndex,n=t===e.movies.length-1?0:t+1;this.setState({activeIndex:n})}}},{key:"previous",value:function(){if(!this.animating){var e=this.state,t=e.activeIndex,n=e.movies,a=0===t?n.length-1:t-1;this.setState({activeIndex:a})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"spliceMovies",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===e.length?t:(t.push(e.splice(0,4)),this.spliceMovies(e,t))}},{key:"render",value:function(){var e=this,t=this.state,n=t.initialized,a=t.activeIndex,r=t.movies;return n?d.a.createElement("div",{className:"flex-wrap justify-content-center"},d.a.createElement(rt.a,{className:"w-1200px",activeIndex:a,next:this.next,previous:this.previous,interval:"5000"},d.a.createElement(it.a,{items:r,activeIndex:a,onClickHandler:this.goToIndex}),r.map(function(t){return d.a.createElement(ct.a,{onExiting:e.onExiting,onExited:e.onExited,key:t.src},d.a.createElement(ut,{movies:t,onClick:e.onClickMovie}),d.a.createElement(ot.a,{captionText:t.caption,captionHeader:t.caption}))}),d.a.createElement(lt.a,{direction:"prev",directionText:"Previous",onClickHandler:this.previous}),d.a.createElement(lt.a,{direction:"next",directionText:"Next",onClickHandler:this.next}))):null}}]),t}(m.Component),mt=Object(v.b)(function(e){return{movies:e.entities.movies}},function(e){return{fetchInitialMovies:function(){return e(L(10))}}})(Object(Y.a)(st)),dt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;return(0,this.props.fetchInitialMovies)().then(function(){return e.setState({initialized:!0})})}},{key:"render",value:function(){return this.state.initialized?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",null,"Web"),d.a.createElement(mt,null)):null}}]),t}(d.a.Component),pt=Object(v.b)(null,function(e){return{fetchInitialMovies:function(){return e(L(10))}}})(dt),ht=Object(v.b)(function(e){return{}},function(e){return{}})(function(e){return d.a.createElement("div",null,"Secure")}),vt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({initialized:!0})}},{key:"render",value:function(){return this.state.initialized?d.a.createElement("div",null,"Tickets"):null}}]),t}(d.a.Component),Et=Object(v.b)(function(e){return{}},function(e){return{}})(vt),ft=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return d.a.createElement("div",null,"Performances")}}]),t}(d.a.Component),bt=Object(v.b)(function(e,t){return{}},function(e,t){return{}})(ft),yt=(n(142),n(143),n(73)),Ot=n.n(yt),gt=new w.b.Entity("reviews"),jt=[gt],wt=function(e,t){return{type:"CONSTRUCT_REVIEW",property:e,payload:t}},Tt=function(e){return{type:"REMOVE_REVIEW",payload:e}},kt=function(e,t){return function(n,a){return(r={url:"".concat(a().user.websiteUrl).concat("api/review","/").concat(e,"/").concat(t)},C(Object(T.a)({method:"DELETE"},r))).then(function(){return n(Tt(e))});var r}},It=function(e){return function(t,n){return S({url:"".concat(n().user.websiteUrl).concat("api/review","/approve/").concat(e),headers:{"content-type":"application/json"},data:{employeeId:n().user.loggedInAs}}).then(function(){return t(Tt(e))})}},Ct=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.getUnapprovedReviews,a=t.showLoader,r=t.hideLoader;a(),n().then(function(){e.setState({initialized:!0}),r()})}},{key:"getSnippet",value:function(e){return e.length<=100?e:"".concat(e.substr(0,100),"...")}},{key:"navigateToReview",value:function(e){var t=this.props,n=t.history,a=t.match;n.push("".concat(a.path,"/").concat(e))}},{key:"render",value:function(){var e=this,t=this.state.initialized,n=this.props,a=n.reviews,r=n.approveReview,i=n.removeReview;return t?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",null,"Klik op een review om deze in zijn geheel te bekijken of accepteer / verwijder de review op basis van de snippet."),d.a.createElement("hr",null),d.a.createElement("table",{className:"table with-hover white-text"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Review Id"),d.a.createElement("th",null,"Movie Id"),d.a.createElement("th",null,"Snippet"))),d.a.createElement("tbody",null,Object.values(a).map(function(t){return d.a.createElement("tr",{key:t.id,onClick:function(){return e.navigateToReview(t.id)}},d.a.createElement("td",null,t.id),d.a.createElement("td",null,t.movieId),d.a.createElement("td",null,e.getSnippet(t.comment)),d.a.createElement("td",null,d.a.createElement("div",{onClick:function(e){e.stopPropagation(),r(t.id)}},"Accepteren")),d.a.createElement("td",null,d.a.createElement("div",{onClick:function(e){e.stopPropagation(),i(t.id,t.removalId)}},"Verwijderen")))}))),d.a.createElement(et,{destination:"/secure"})):null}}]),t}(d.a.Component),Nt=Object(v.b)(function(e){return{reviews:e.reviews.unapproved}},function(e){return{getUnapprovedReviews:function(){return e(function(e,t){return N({url:"".concat(t().user.websiteUrl).concat("api/review","/unapproved")}).then(function(t){var n=Object(w.a)(t.data,jt);return e({type:"SET_UNAPPROVED_REVIEWS",payload:n.entities.reviews})})})},removeReview:function(t,n){return e(kt(t,n))},approveReview:function(t){return e(It(t))},showLoader:function(){return e({type:"SET_LAYOUT",payload:!0})},hideLoader:function(){return e({type:"SET_LAYOUT",payload:!1})}}})(Ct),St=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchMovie,n=e.review;if(!n)return null;t(n.movieId)}},{key:"render",value:function(){var e=this.props,t=e.review,n=e.movie,a=e.removeReview,r=e.approveReview;return t?d.a.createElement(d.a.Fragment,null,d.a.createElement("table",{className:"table white-text"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Sleutel"),d.a.createElement("th",null,"Waarde"))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,"Filmnaam"),d.a.createElement("td",null,n&&n.title||null)),d.a.createElement("tr",null,d.a.createElement("td",null,"Naam van poster"),d.a.createElement("td",null,t.name||"Onbekend")),d.a.createElement("tr",null,d.a.createElement("td",null,"Opmerking"),d.a.createElement("td",null,t.comment)))),d.a.createElement("button",{onClick:function(e){e.stopPropagation(),r(t.id)},type:"button"},"Accepteren"),d.a.createElement("button",{onClick:function(e){e.stopPropagation(),a(t.id,t.removalId)},type:"button"},"Verwijderen"),d.a.createElement(et,{destination:"/secure/reviews"})):d.a.createElement(d.a.Fragment,null,d.a.createElement("div",null,"Niets gevonden"),d.a.createElement(et,{destination:"/secure/reviews"}))}}]),t}(m.Component),_t=Object(v.b)(function(e,t){var n=e.reviews.unapproved[t.match.params.id];return{review:n||null,movie:e.entities.movies[n&&n.movieId||null]}},function(e){return{fetchMovie:function(t){return e(P(t))},removeReview:function(t,n){return e(kt(t,n))},approveReview:function(t){return e(It(t))}}})(St),Dt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.movie,a=t.fetchMovie;return(0,t.setMovieId)(),n?this.setState({initialized:!0}):a().then(function(){return e.setState({initialized:!0})})}},{key:"hasAlreadyReviewed",value:function(){var e=this.props.match;return localStorage.getItem(e.params.movieId)}},{key:"render",value:function(){var e=this.state.initialized,t=this.props,n=t.setReview,a=t.name,r=t.comment,i=t.createReview;return e?d.a.createElement(d.a.Fragment,null,d.a.createElement("form",null,d.a.createElement("div",{className:"form-group row"},d.a.createElement("label",{htmlFor:"name",className:"col-sm-2 col-form-label"},"Naam"),d.a.createElement("div",{className:"col-sm-10"},d.a.createElement("input",{type:"text",className:"form-control-plaintext",style:{backgroundColor:"white"},id:"name",value:a,onChange:function(e){if(e.preventDefault(),e.target.value.length>100)return null;n("name",e.target.value)}}))),d.a.createElement("div",{className:"form-group row"},d.a.createElement("label",{htmlFor:"exampleFormControlTextarea1",className:"col-sm-2 col-form-label"},"Review:"),d.a.createElement("div",{className:"col-sm-10"},d.a.createElement("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:r,onChange:function(e){if(e.preventDefault(),e.target.value.length>4500)return null;n("comment",e.target.value)}}),"Maximaal 4500 karakters.")),d.a.createElement("button",{type:"button",className:"btn btn-light",onClick:i,disabled:this.hasAlreadyReviewed()},"Opsturen"))):null}}]),t}(m.Component),Ut=Object(v.b)(function(e,t){return{movie:e.entities.movies[t.match.params.movieId]||null,comment:e.reviews.review.comment,name:e.reviews.review.name}},function(e,t){return{fetchMovie:function(){return e(P(t.match.params.movieId))},setMovieId:function(){return e(wt("movieId",t.match.params.movieId))},setReview:function(t,n){return e(wt(t,n))},createReview:function(){return e(function(e,t){var n=t().reviews.review;return S({url:"".concat(t().user.websiteUrl).concat("api/review","/post"),data:Object(T.a)({},n,{comment:Ot()(n.comment)}),headers:{"content-type":"application/json"}}).then(function(e){return localStorage.setItem(n.movieId,e.data.removalId),j.toast.info("Bedankt voor het opsturen van jouw review! Nadat jouw review is goedgekeurd zal deze op de website te zien zijn."),e})})}}})(Dt),xt=n(152),Mt=n(153),Rt=n(154),At=n(155),Pt=new w.b.Entity("movies"),Lt=[Pt],zt=function(e){return{type:"SET_ENTITIES",payload:e,entityType:"movies"}},Yt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1,selected:0},n.handleClick=n.handleClick.bind(Object(K.a)(Object(K.a)(n))),n.addMovie=n.addMovie.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.getMovieCount,a=t.getMovies,r=t.showLoader,i=t.hideLoader;return r(),Promise.all([n(),a()]).then(function(){i(),e.setState({initialized:!0})})}},{key:"addMovie",value:function(){var e=this.props,t=e.history,n=e.match;t.push("".concat(n.path,"/new"))}},{key:"handleClick",value:function(e){var t=this.props.getMovies;return this.setState({selected:e}),t(25*e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.initialized,a=t.selected,r=this.props,i=r.pagination,c=r.movies,o=r.onMovieSelect;return n?d.a.createElement(d.a.Fragment,null,d.a.createElement(xt.a,{responsive:!0,className:"with-hover"},d.a.createElement("thead",null,d.a.createElement("tr",{"data-hook":"table-head"},d.a.createElement("th",null,"Titel"),d.a.createElement("th",null,"Jaar"),d.a.createElement("th",null,"Genres"),d.a.createElement("th",null,"Looptijd"),d.a.createElement("th",null,"Taal"),d.a.createElement("th",null,"Actief"))),d.a.createElement("tbody",{"data-hook":"table-body"},Object.values(c).map(function(e){return d.a.createElement("tr",{key:e.id,onClick:function(){return o(e.id)}},d.a.createElement("td",null,e.title),d.a.createElement("td",null,e.year),d.a.createElement("td",null,e.genres.join(", ")),d.a.createElement("td",null,e.runtime),d.a.createElement("td",null,e.language),d.a.createElement("td",null,e.active?"Ja":"Nee"))}))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-1"},d.a.createElement(et,{destination:"/secure"})),d.a.createElement("div",{className:"margin-bottom-150"})),d.a.createElement("div",{className:"fixed-pagination"},d.a.createElement(Mt.a,{"aria-label":"Page navigation example"},d.a.createElement(Rt.a,null,d.a.createElement(At.a,{previous:!0,href:"#"})),i.map(function(t){return d.a.createElement(Rt.a,{active:a===t,key:t,onClick:function(){return e.handleClick(t)}},d.a.createElement("div",{className:"page-link"},t))}),d.a.createElement(Rt.a,null,d.a.createElement(At.a,{next:!0,href:"#"}))))):null}}]),t}(m.Component),Ft=Object(v.b)(function(e){return{pagination:e.movies.pagination,movies:e.entities.movies}},function(e,t){return{getMovieCount:function(){return e(function(e,t){return N({url:"".concat(t().user.websiteUrl).concat("api/movie","/total")}).then(function(t){return e({type:"SET_MOVIE_PROPERTY",movieProperty:"maxNumberOfMovies",payload:t.data.total})})})},getMovies:function(e){return t.getMovies(e||0)},showLoader:function(){return e({type:"SET_LAYOUT",payload:!0})},hideLoader:function(){return e({type:"SET_LAYOUT",payload:!1})}}})(Object(Y.a)(Yt)),qt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n.onMovieSelect=n.onMovieSelect.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({initialized:!0})}},{key:"onMovieSelect",value:function(e){var t=this.props,n=t.history,a=t.match;return n.push("".concat(a.path,"/").concat(e))}},{key:"render",value:function(){var e=this.state.initialized,t=this.props.getMovies;return e?d.a.createElement(Ft,{onMovieSelect:this.onMovieSelect,getMovies:t}):null}}]),t}(m.Component),Vt=Object(v.b)(function(e){return{}},function(e){return{getMovies:function(t){return e(function(e){return function(t,n){return N({url:"".concat(n().user.websiteUrl).concat("api/movie","/pagination/").concat(e)}).then(function(e){var n=Object(w.a)(e.data,Lt);return t(zt(n.entities.movies))})}}(t||0))}}})(qt),Ht=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n.updateProperty=n.updateProperty.bind(Object(K.a)(Object(K.a)(n))),n.sendUpdatedMovie=n.sendUpdatedMovie.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.movie,a=t.fetchMovieById;if(!n)return a().then(function(){return e.setState({initialized:!0})});this.setState({initialized:!0})}},{key:"updateProperty",value:function(e,t){return(0,this.props.editMovie)(e,t)}},{key:"sendUpdatedMovie",value:function(){var e=this.props.sendUpdatedMovie;return e()}},{key:"render",value:function(){var e=this,t=this.state.initialized,n=this.props.movie;return t?d.a.createElement(d.a.Fragment,null,d.a.createElement(xt.a,{className:"white-text"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Onderwerp"),d.a.createElement("th",null,"Waarde"))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,"Titel"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:n.title||"",onChange:function(t){return e.updateProperty(t.target.value,"title")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Beschrijving"),d.a.createElement("td",null,d.a.createElement("textarea",{type:"text",value:n.description||"",onChange:function(t){return e.updateProperty(t.target.value,"description")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jaar"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:n.year||"",onChange:function(t){return e.updateProperty(t.target.value,"year")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Genres"),d.a.createElement("td",null,n.genres.join(", "))),d.a.createElement("tr",null,d.a.createElement("td",null,"Looptijd"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:n.runtime||"",onChange:function(t){return e.updateProperty(t.target.value,"runtime")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Poster URL"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:n.posterUrl||"",onChange:function(t){return e.updateProperty(t.target.value,"posterUrl")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Taal"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:n.language||"",onChange:function(t){return e.updateProperty(t.target.value,"language")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Actief"),d.a.createElement("td",null,d.a.createElement("input",{type:"checkbox",checked:n.active,onChange:function(){return e.updateProperty(!n.active,"active")}}))))),d.a.createElement(et,{destination:"/secure/movies"}),d.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.sendUpdatedMovie},"Opslaan")):null}}]),t}(m.Component),$t=Object(v.b)(function(e,t){return{movie:e.entities.movies[t.match.params.id]}},function(e,t){return{fetchMovieById:function(){return e(P(t.match.params.id))},editMovie:function(n,a){return e({type:"UPDATE_ENTITY",property:a,entityType:"movies",id:t.match.params.id,payload:n})},sendUpdatedMovie:function(){return e((n=t.match.params.id,function(e,t){return j.toast.info("De film wordt ge\xfcpdatet."),_({url:"".concat(t().user.websiteUrl).concat("api/movie","/update"),data:t().entities.movies[n]}).then(function(e){return e.data.success?j.toast.success("Gelukt"):j.toast.warn("Update is niet gelukt.")})}));var n}}})(Ht),Bt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).updateProperty=n.updateProperty.bind(Object(K.a)(Object(K.a)(n))),n.saveMovie=n.saveMovie.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"updateProperty",value:function(e,t){return(0,this.props.editMovie)(e,t)}},{key:"saveMovie",value:function(){var e=this.props,t=e.postNewMovie,n=e.history;return t().then(function(e){return n.push("/secure/movies/".concat(e))})}},{key:"render",value:function(){var e=this,t=this.props.movie;return d.a.createElement(d.a.Fragment,null,d.a.createElement(xt.a,{className:"white-text"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Onderwerp"),d.a.createElement("th",null,"Waarde"))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,"Titel"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:t.title||"",onChange:function(t){return e.updateProperty(t.target.value,"title")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Beschrijving"),d.a.createElement("td",null,d.a.createElement("textarea",{type:"text",value:t.description||"",onChange:function(t){return e.updateProperty(t.target.value,"description")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jaar"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:t.year||"",onChange:function(t){return e.updateProperty(t.target.value,"year")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Genres"),d.a.createElement("td",null,t.genres.join(", "))),d.a.createElement("tr",null,d.a.createElement("td",null,"Looptijd"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:t.runtime||"",onChange:function(t){return e.updateProperty(t.target.value,"runtime")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Poster URL"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:t.posterUrl||"",onChange:function(t){return e.updateProperty(t.target.value,"posterUrl")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Taal"),d.a.createElement("td",null,d.a.createElement("input",{type:"text",value:t.language||"",onChange:function(t){return e.updateProperty(t.target.value,"language")}}))),d.a.createElement("tr",null,d.a.createElement("td",null,"Actief"),d.a.createElement("td",null,d.a.createElement("input",{type:"checkbox",checked:t.active,onChange:function(){return e.updateProperty(!t.active,"active")}}))))),d.a.createElement(et,{destination:"/secure/movies"}),d.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.saveMovie},"Opslaan"))}}]),t}(m.Component),Qt=Object(v.b)(function(e){return{movie:e.movies.new}},function(e){return{editMovie:function(t,n){return e({type:"UPDATE_NEW_MOVIE",property:n,payload:t})},postNewMovie:function(){return e(function(e,t){return j.toast.info("De film wordt opgeslagen."),S({url:"".concat(t().user.websiteUrl).concat("api/movie","/new"),data:t().movies.new}).then(function(t){j.toast.success("Opslaan is gelukt!");var n=Object(w.a)(t.data.success,Pt);return e({type:"SET_INITIAL_STATE"}),e(zt(n.entities.movies)),t.data.success.id})})}}})(Bt),Wt=new w.b.Entity("surveys"),Gt=[Wt],Kt=function(e){return{type:"SET_ENTITIES",entityType:"surveys",payload:e}},Jt=function(e,t){return{type:"survey/SET_PROPERTY",property:e,payload:t}},Zt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n.addSurvey=n.addSurvey.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.getSurveys,a=t.showLoader,r=t.hideLoader;return a(),n().then(function(){e.setState({initialized:!0}),r()})}},{key:"addSurvey",value:function(){var e=this.props,t=e.location;e.history.push("".concat(t.pathname,"/create"))}},{key:"render",value:function(){var e=this.state.initialized,t=this.props,n=t.surveys,a=t.onSurveySelect;return e?d.a.createElement(d.a.Fragment,null,d.a.createElement(xt.a,{responsive:!0,className:"with-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Titel"))),d.a.createElement("tbody",null,Object.values(n).map(function(e){return d.a.createElement("tr",{key:e.id,onClick:function(){return a(e.id)}},d.a.createElement("td",null,e.title))}))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-2"},d.a.createElement(et,{destination:"/secure"})),d.a.createElement("div",{className:"col-lg-2"},d.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.addSurvey},"Nieuwe enquete toevoegen")))):null}}]),t}(m.Component),Xt=Object(v.b)(function(e){return{surveys:e.entities.surveys}},function(e){return{getSurveys:function(){return e(function(e,t){return N({url:"".concat(t().user.websiteUrl).concat("api/survey")}).then(function(t){var n=Object(w.a)(t.data,Gt);return e(Kt(n.entities.surveys))})})},showLoader:function(){return e({type:"SET_LAYOUT",payload:!0})},hideLoader:function(){return e({type:"SET_LAYOUT",payload:!1})}}})(Object(Y.a)(Zt)),en=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n.onSurveySelect=n.onSurveySelect.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({initialized:!0})}},{key:"onSurveySelect",value:function(e){var t=this.props,n=t.history,a=t.match;return n.push("".concat(a.path,"/").concat(e))}},{key:"render",value:function(){return this.state.initialized?d.a.createElement(Xt,{onSurveySelect:this.onSurveySelect}):null}}]),t}(m.Component),tn=Object(v.b)(function(e){return{}},function(e,t){return{}})(en),nn=n(74),an=n.n(nn),rn=n(156),cn=n(157),on=n(158),ln=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={newQuestion:""},n.onNewQuestionChange=n.onNewQuestionChange.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"onNewQuestionChange",value:function(e){this.setState({newQuestion:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.survey,n=e.setTitle,a=e.addQuestion,r=e.setActive,i=e.toggleQuestionCheckbox,c=e.deleteQuestion,o=e.createSurvey,l=this.state.newQuestion;return d.a.createElement(d.a.Fragment,null,d.a.createElement(rn.a,null,d.a.createElement(cn.a,{htmlFor:"title"},"Titel"),d.a.createElement(on.a,{value:t.title,onChange:function(e){return n(e.target.value)}})),d.a.createElement("div",null,"Vragen bij deze enquete:"),d.a.createElement(xt.a,{className:"with-hover white-text"},d.a.createElement("tbody",null,0===t.questions.length&&d.a.createElement("tr",null,d.a.createElement("td",null,"Je hebt nog geen vragen toegevoegd!")),t.questions.length>0&&t.questions.map(function(e,n){return d.a.createElement("tr",{key:e.id},d.a.createElement("td",null,e.questionText),d.a.createElement("td",null,"Antwoord verplicht",d.a.createElement("input",{type:"checkbox",className:"form-control",checked:t.questions[n].answerRequired,onChange:function(){return i(n,"answerRequired",!t.questions[n].answerRequired)}})),d.a.createElement("td",null,"Waardering verplicht",d.a.createElement("input",{type:"checkbox",className:"form-control",checked:t.questions[n].ratingRequired,onChange:function(){return i(n,"ratingRequired",!t.questions[n].ratingRequired)}})),d.a.createElement("td",null,d.a.createElement("div",{onClick:function(){return c(n)}},"Verwijderen")))}))),d.a.createElement("div",{className:"flex"},d.a.createElement(on.a,{value:l,onChange:this.onNewQuestionChange}),d.a.createElement("button",{className:"btn btn-light",type:"button",onClick:function(){return a(l)}},"+")),d.a.createElement("div",null,d.a.createElement(cn.a,{htmlFor:"active"},"Actief?"),d.a.createElement("input",{id:"active",checked:t.active,type:"checkbox",onChange:function(){return r(!t.active)}})),d.a.createElement(et,{destination:"/secure/surveys"}),d.a.createElement("button",{onClick:o,className:"btn btn-light",type:"button"},"Opslaan"))}}]),t}(m.Component),un=Object(v.b)(function(e){return{survey:e.surveys.new}},function(e){return{addQuestion:function(t){return e({type:"survey/ADD_QUESTION",payload:{id:an()().substr(12,36).replace(/\W/g,"4"),questionText:t,answerRequired:!1,ratingRequired:!1}})},createSurvey:function(){return e(function(e,t){return S({url:"".concat(t().user.websiteUrl).concat("api/survey"),data:t().surveys.new}).then(function(){j.toast.success("Je enquete is opgeslagen"),e({type:"survey/SET_INITIAL_STATE"})})})},deleteQuestion:function(t){return e({type:"survey/REMOVE_QUESTION",payload:t})},toggleQuestionCheckbox:function(t,n,a){return e(function(e,t,n){return{type:"TOGGLE_QUESTION_REQUIRED",index:e,requiredType:t,payload:n}}(t,n,a))},setTitle:function(t){return e(Jt("title",t))},setActive:function(t){return e(Jt("active",t))}}})(ln),sn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;return(0,this.props.getResult)().then(function(){return e.setState({initialized:!0})})}},{key:"render",value:function(){var e=this.state.initialized,t=this.props.survey;return e?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-2"},"Titel van enquete:"),d.a.createElement("div",{className:"col-sm-10"},t.title)),t.questions.map(function(e){return d.a.createElement(d.a.Fragment,null,d.a.createElement(xt.a,{key:"text_".concat(e.id),className:"white-text"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("td",null,"#"),e.answerRequired&&d.a.createElement("td",null,"Vraag: ".concat(e.questionText)),e.ratingRequired&&d.a.createElement("td",null,"Waardering"))),d.a.createElement("tbody",null,t.answers[e.id].map(function(t,n){return d.a.createElement("tr",null,d.a.createElement("td",null,n+1),e.answerRequired&&d.a.createElement("td",null,t.answerText),e.ratingRequired&&d.a.createElement("td",null,t.rating))}))))}),d.a.createElement(et,{destination:"/secure/surveys"})):null}}]),t}(m.Component),mn=Object(v.b)(function(e,t){return{survey:e.entities.surveys[t.match.params.id]}},function(e,t){return{getResult:function(){return e((n=t.match.params.id,function(e,t){return N({url:"".concat(t().user.websiteUrl).concat("api/survey","/").concat(n)}).then(function(t){var n=Object(w.a)(t.data,Wt);return e(Kt(n.entities.surveys))})}));var n}}})(Object(Y.a)(sn)),dn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n.getPerformancesToday=n.getPerformancesToday.bind(Object(K.a)(Object(K.a)(n))),n.goToPerformance=n.goToPerformance.bind(Object(K.a)(Object(K.a)(n))),n.createNewPerformance=n.createNewPerformance.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.getPerformancesOnDate,a=t.showLoader,r=t.hideLoader;return a(),n().then(function(){r(),e.setState({initialized:!0})})}},{key:"getPerformancesToday",value:function(){var e=this.props,t=e.setDate,n=e.getPerformancesOnDate;return t(Ce()().format("YYYY-MM-DD")).then(function(){return n()})}},{key:"goToPerformance",value:function(e){var t=this.props,n=t.history,a=t.match;return n.push("".concat(a.path,"/").concat(e))}},{key:"createNewPerformance",value:function(){var e=this.props,t=e.history,n=e.match;return t.push("".concat(n.path,"/create"))}},{key:"render",value:function(){var e=this,t=this.state.initialized,n=this.props,a=n.setDate,r=n.getPerformancesAfterDate,i=n.getPerformancesBeforeDate,c=n.getPerformancesOnDate,o=n.date,l=n.performances;return t?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"row justify-content-around padding-around"},d.a.createElement("button",{type:"button",className:"btn btn-light"},"Voorstellingen vandaag"),d.a.createElement("div",{className:"date-holder"},"Datum:",d.a.createElement("input",{value:o,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"jjjj-mm-dd"})),d.a.createElement("button",{onClick:c,type:"button",className:"btn btn-light"},"Zoeken op datum"),d.a.createElement("button",{onClick:i,type:"button",className:"btn btn-light"},"Zoeken voor datum"),d.a.createElement("button",{onClick:r,type:"button",className:"btn btn-light"},"Zoeken na datum")),d.a.createElement(xt.a,{className:"with-hover white-text"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Naam film"),d.a.createElement("th",null,"Starttijd"),d.a.createElement("th",null,"Eindtijd"),d.a.createElement("th",null,"Zaal"),d.a.createElement("th",null,"Bezetting"))),d.a.createElement("tbody",null,Object.values(l).map(function(t){return d.a.createElement("tr",{key:t.id,onClick:function(){return e.goToPerformance(t.id)}},d.a.createElement("td",null,t.movieId),d.a.createElement("td",null,t.startTime),d.a.createElement("td",null,t.endTime),d.a.createElement("td",null,t.hallId),d.a.createElement("td",null,"".concat(t.chairs.filter(function(e){return e.taken}).length,"/").concat(t.chairs.length," ")))}))),d.a.createElement(et,{destination:"/secure"}),d.a.createElement("button",{onClick:this.createNewPerformance,type:"button",className:"btn btn-light"},"Nieuwe voorstelling")):null}}]),t}(m.Component),pn=Object(v.b)(function(e){return{date:e.performance.date,performances:e.entities.performances}},function(e){return{getPerformancesOnDate:function(){return e(Ue())},getPerformancesBeforeDate:function(){return e(Ue("before"))},getPerformancesAfterDate:function(){return e(Ue("after"))},setDate:function(t){return e({type:"SET_DATE",payload:t})},showLoader:function(){return e({type:"SET_LAYOUT",payload:!0})},hideLoader:function(){return e({type:"SET_LAYOUT",payload:!1})}}})(dn),hn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({initialized:!0})}},{key:"render",value:function(){var e=this.state.initialized;this.props.isCustomer;return e?d.a.createElement(d.a.Fragment,null,d.a.createElement(at,null)):null}}]),t}(m.Component),vn=Object(v.b)(function(e){return{isCustomer:0===e.user.role}},function(e){return{}})(hn),En=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={initialized:!1,errors:[]},n.validate=n.validate.bind(Object(K.a)(Object(K.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;return(0,this.props.initialize)().then(function(){return e.setState({initialized:!0})})}},{key:"componentWillUnmount",value:function(){this.props.unmount()}},{key:"validate",value:function(){var e=this;return(0,this.props.createPerformance)().then(function(t){return e.setState({errors:t})})}},{key:"hasError",value:function(e){return this.state.errors.indexOf(e)>-1?"error":""}},{key:"render",value:function(){var e=this.state.initialized,t=this.props,n=t.movies,a=t.halls,r=t.newPerformance,i=t.setMovie,c=t.setHall,o=t.set3D,l=t.setDate,u=t.setStartTime,s=t.setEndTime;return e?d.a.createElement(d.a.Fragment,null,d.a.createElement(rn.a,{className:"form-group"},d.a.createElement(cn.a,{htmlFor:"filmcontrol"},"Film"),d.a.createElement("select",{className:"form-control ".concat(this.hasError("movieId")),id:"filmcontrol",value:r.movieId,onChange:function(e){return i(e.target.value)}},d.a.createElement("option",{value:"0"}),Object.keys(n).map(function(e){return d.a.createElement("option",{key:e,value:e},n[e].title)}))),d.a.createElement(rn.a,null,d.a.createElement(cn.a,{htmlFor:"hallcontrol"},"Zaal"),d.a.createElement("select",{className:"form-control ".concat(this.hasError("hallId")),id:"hallcontrol",value:r.hallId,onChange:function(e){return c(e.target.value)}},d.a.createElement("option",{value:"0"}),Object.keys(a).map(function(e){return d.a.createElement("option",{key:e,value:e},a[e].name)}))),d.a.createElement(rn.a,null,d.a.createElement(cn.a,{htmlFor:"date"},"Datum"),d.a.createElement(on.a,{className:"".concat(this.hasError("date")),type:"date",name:"date",id:"date",placeholder:"date placeholder",onChange:function(e){return l(e.target.value)}})),d.a.createElement(rn.a,null,d.a.createElement(cn.a,{htmlFor:"startTime"},"Starttijd"),d.a.createElement(on.a,{className:"".concat(this.hasError("startTime")),onChange:function(e){return u(e.target.value)},type:"time",name:"time",id:"startTime",placeholder:"Start"})),d.a.createElement(rn.a,null,d.a.createElement(cn.a,{htmlFor:"endTime"},"Eindtijd"),d.a.createElement(on.a,{className:"".concat(this.hasError("endTime")),onChange:function(e){return s(e.target.value)},type:"time",name:"time",id:"endTime",placeholder:"Eind"})),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"3d"},"3D-voorstelling"),d.a.createElement("input",{type:"checkbox",className:"form-control",id:"3d",checked:r.threeDimensional,onChange:function(){return o(!r.threeDimensional)}})),d.a.createElement(et,{destination:"/secure/performances"}),d.a.createElement("button",{type:"button",className:"btn btn-light",onClick:this.validate},"Aanmaken")):null}}]),t}(m.Component),fn=Object(v.b)(function(e){return{newPerformance:e.performance.new,halls:e.entities.halls,movies:e.entities.movies}},function(e){return{initialize:function(){return e(function(e){return Promise.all([e(function(e,t){return N({url:"".concat(t().user.websiteUrl).concat("api/hall")}).then(function(t){var n=Object(w.a)(t.data,A);return e(_e(n.entities.halls))})}),e(L(50))])})},createPerformance:function(){return e(Me())},setDate:function(t){return e(De("date",t))},setMovie:function(t){return e(De("movieId",t))},setHall:function(t){return e(De("hallId",t))},set3D:function(t){return e(De("threeDimensional",t))},setStartTime:function(t){return e(De("startTime",t))},setEndTime:function(t){return e(De("endTime",t))},unmount:function(){return e({type:"SET_INITIAL_PERFORMANCE"})}}})(En),bn=n(76),yn=n(165),On=n(159),gn=n(160),jn=n(161),wn=n(162),Tn=n(170),kn=n(169),In=n(163),Cn=n(164),Nn=Object(v.b)(null,function(e){return{fetchInitialMovies:function(){return e(L(100))}}})(Object(yn.a)(function(e){var t=e.match,n=e.location,a=e.fetchInitialMovies,r=d.a.useState({isOpen:!1}),i=Object(bn.a)(r,2),c=i[0],o=i[1];return d.a.createElement(On.a,{className:"nav-secure",color:"light",light:!0,expand:"md"},d.a.createElement("div",{className:"navbar-brand"},d.a.createElement(Xe.a,{to:"/secure"},"NietPathe")),d.a.createElement(gn.a,{onClick:o}),d.a.createElement(jn.a,{isOpen:c.isOpen,navbar:!0},d.a.createElement(wn.a,{className:"ml-auto",navbar:!0},n.pathname.includes("/secure/movies")&&d.a.createElement(Tn.a,{nav:!0,inNavbar:!0},d.a.createElement(kn.a,{nav:!0,caret:!0},"Acties - Films"),d.a.createElement(In.a,{right:!0},d.a.createElement(Cn.a,null,d.a.createElement(Xe.a,{to:"/secure/movies/new"},"Nieuwe film aanmaken")),d.a.createElement(Cn.a,{divider:!0}),d.a.createElement(Cn.a,{header:!0},"Filters"),d.a.createElement(Cn.a,{onClick:a},"Alleen actieve films"))),d.a.createElement(Tn.a,{nav:!0,inNavbar:!0},d.a.createElement(kn.a,{nav:!0,caret:!0},"Beheren"),d.a.createElement(In.a,{right:!0},d.a.createElement(Cn.a,null,d.a.createElement(Xe.a,{to:"".concat(t.path,"/movies")},"Beheren films")),d.a.createElement(Cn.a,null,d.a.createElement(Xe.a,{to:"".concat(t.path,"/performances")},"Beheren voorstellingen")),d.a.createElement(Cn.a,null,d.a.createElement(Xe.a,{to:"".concat(t.path,"/reviews")},"Goedkeuren reviews")))),d.a.createElement(Tn.a,{nav:!0,inNavbar:!0},d.a.createElement(kn.a,{nav:!0,caret:!0},"Manager"),d.a.createElement(In.a,{right:!0},d.a.createElement(Cn.a,null,d.a.createElement(Xe.a,{to:"".concat(t.path,"/surveys")},"Beheren enquetes")))))))})),Sn=Object(v.b)(function(e){return{showLoader:e.layout.showLoader}})(function(e){return e.showLoader&&d.a.createElement("div",{className:"loader-wrapper"},d.a.createElement("div",{className:"loader"},d.a.createElement("div",null),d.a.createElement("div",null),d.a.createElement("div",null)))}),_n=function(e){var t=e.render,n=Object(b.a)(e,["render"]);return d.a.createElement(y.a,Object.assign({},n,{render:function(e){return parseInt(n.role,10)>0?d.a.createElement(t,e):d.a.createElement("div",null,"You should not have come here!")}}))},Dn=Object(v.b)(function(e){return{role:e.user.role}})(function(e){var t=e.role;return d.a.createElement(d.a.Fragment,null,d.a.createElement(Sn,null),d.a.createElement(O.a,null,d.a.createElement(g.a,null,d.a.createElement(_n,{key:"secure",role:t,path:"/secure",render:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(Nn,null),d.a.createElement("div",{id:"secure",className:"container"},d.a.createElement(g.a,null,d.a.createElement(y.a,{exact:!0,path:"/secure/performances",component:pn}),d.a.createElement(y.a,{exact:!0,path:"/secure/performances/create",component:fn}),d.a.createElement(y.a,{exact:!0,path:"/secure/performances/:performanceId",component:vn}),d.a.createElement(y.a,{exact:!0,path:"/secure/surveys",component:tn}),d.a.createElement(y.a,{exact:!0,path:"/secure/surveys/create",component:un}),d.a.createElement(y.a,{exact:!0,path:"/secure/surveys/:id",component:mn}),d.a.createElement(y.a,{exact:!0,path:"/secure/movies",component:Vt}),d.a.createElement(y.a,{exact:!0,path:"/secure/movies/new",component:Qt}),d.a.createElement(y.a,{exact:!0,path:"/secure/movies/:id",component:$t}),d.a.createElement(y.a,{exact:!0,path:"/secure/reviews/:id",component:_t}),d.a.createElement(y.a,{exact:!0,path:"/secure/reviews",component:Nt}),d.a.createElement(y.a,{exact:!0,path:"/secure",component:ht}),d.a.createElement(y.a,{path:"/secure/*",render:function(){return d.a.createElement("div",null,"404 Niet gevonden.")}}))))}}),d.a.createElement(y.a,{render:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(g.a,null,d.a.createElement(y.a,{key:"web",exact:!0,path:"/web",component:pt}),d.a.createElement(y.a,{key:"postReview",exact:!0,path:"/web/movie/:movieId/reviews/post",component:Ut}),d.a.createElement(y.a,{key:"performance",exact:!0,path:"/web/performance/:performanceId",component:at}),d.a.createElement(y.a,{key:"performances",exact:!0,path:"/web/performances/:movieId",component:bt})))}}),d.a.createElement(y.a,{key:"tickets",exact:!0,path:"/tickets",component:Et}),d.a.createElement(y.a,{path:"*",render:function(){return d.a.createElement("div",null,"404 Niet gevonden.")}}))),d.a.createElement(j.ToastContainer,null))}),Un=n(15),xn=n.n(Un),Mn={seats:[],removal:[],performanceId:"",name:"",email:""},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PURCHASE_ADD_SEAT":return xn()(e,{seats:{$push:[t.payload]}});case"SET_PURCHASE_PROPERTY":return xn()(e,Object(Z.a)({},t.purchaseType,{$set:t.payload}));case"PURCHASE_REMOVE_SEAT":var n=e.seats.findIndex(function(e){return e.row===t.payload.row&&e.chair===t.payload.chair});return xn()(e,{seats:{$splice:[[n,1]]}});case"PURCHASE_SET_PERFORMANCE_ID":return xn()(e,{performanceId:{$set:t.payload}});case"SET_TICKET_DISCOUNT":var a=Object(Ne.a)(e.seats),r=e.seats.findIndex(function(e){return e.row===t.payload.row&&e.chair===t.payload.chair});return a.splice(r,1,t.payload),xn()(e,{seats:{$set:a}});case"EMPTY_SEATS":return xn()(e,{seats:{$set:[]}});case"SET_CALCULATED_DISCOUNT":return xn()(e,{seats:{$set:t.payload}});default:return e}},An={date:Ce()().format("YYYY-MM-DD"),new:{threeDimensional:!1,movieId:"",date:"",startTime:"",endTime:"",hallId:"",chairs:[]}},Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATE":return xn()(e,{date:{$set:t.payload}});case"SET_PERFORMANCE_PROPERTY":return xn()(e,{new:Object(Z.a)({},t.property,{$set:t.payload})});case"SET_INITIAL_PERFORMANCE":return Object(T.a)({},An,{date:e.date});default:return e}},Ln={movies:{},performances:{},halls:{},reviews:{},surveys:{},tickets:{}},zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"entities/SET_TO_INITIAL_STATE":return Ln;case"SET_ENTITIES":return xn()(e,Object(Z.a)({},t.entityType,{$set:t.payload}));case"UPDATE_ENTITY":return xn()(e,Object(Z.a)({},t.entityType,Object(Z.a)({},t.id,Object(Z.a)({},t.property,{$set:t.payload}))));case"SET_SEAT_TAKEN":var n=t.payload,a=n.performanceId,r=n.chair,i=n.row,c=n.taken,o=n.ticketId,l=e.performances[a].chairs.findIndex(function(e){return e.chair===r&&e.row===i}),u=Object(Ne.a)(e.performances[a].chairs);return u.splice(l,1,{chair:r,row:i,taken:c,ticketId:o}),xn()(e,{performances:Object(Z.a)({},a,{chairs:{$set:u}})});default:return e}},Yn={unapproved:{},review:{name:"",movieId:"",comment:""}},Fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UNAPPROVED_REVIEWS":return xn()(e,{unapproved:{$set:t.payload}});case"CONSTRUCT_REVIEW":return xn()(e,{review:Object(Z.a)({},t.property,{$set:t.payload})});case"REMOVE_REVIEW":return xn()(e,{unapproved:{$unset:[t.payload]}});default:return e}},qn={maxNumberOfMovies:0,pagination:[],new:{title:"",runtime:"",year:"",cast:[],genres:["To do"],posterUrl:"",description:"",language:"",active:!1},search:""},Vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIE_PROPERTY":var n,a=Math.ceil(t.payload/25);return xn()(e,(n={},Object(Z.a)(n,t.movieProperty,{$set:t.payload}),Object(Z.a)(n,"pagination",{$set:Array.from(Array(a),function(e,t){return t})}),n));case"UPDATE_NEW_MOVIE":return xn()(e,{new:Object(Z.a)({},t.property,{$set:t.payload})});case"SET_INITIAL_STATE":return qn;default:return e}},Hn={new:{title:"",questions:[],active:!1,answers:{}}},$n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"survey/ADD_QUESTION":return xn()(e,{new:{questions:{$push:[t.payload]},answers:Object(Z.a)({},t.payload.id,{$set:[]})}});case"survey/REMOVE_QUESTION":var n=Object(Ne.a)(e.new.questions),a=n.splice(t.payload,1)[0].id;return xn()(e,{new:{questions:{$set:n},answers:{$unset:[a]}}});case"survey/SET_PROPERTY":return xn()(e,{new:Object(Z.a)({},t.property,{$set:t.payload})});case"TOGGLE_QUESTION_REQUIRED":return xn()(e,{new:{questions:Object(Z.a)({},t.index,Object(Z.a)({},t.requiredType,{$set:t.payload}))}});case"survey/SET_INITIAL_STATE":return Hn;default:return e}},Bn={role:"",websiteUrl:"",auth:"",loggedInAs:""},Qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;default:return e}},Wn={showLoader:!1},Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn,t=arguments.length>1?arguments[1]:void 0;return"SET_LAYOUT"===t.type?xn()(e,{showLoader:{$set:t.payload}}):e},Kn=Object(E.combineReducers)({entities:zn,purchase:Rn,reviews:Fn,movies:Vn,performance:Pn,surveys:$n,layout:Gn,user:Qn}),Jn=Object(E.applyMiddleware)(f.a),Zn=Object(E.createStore)(Kn,Jn),Xn=document.getElementById("root"),ea=Xn.getAttribute("data-auth"),ta=Xn.getAttribute("data-logged-in-as"),na=Xn.getAttribute("data-role"),aa=Xn.getAttribute("data-website-url"),ra=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return d.a.createElement(Dn,null)}}]),t}(d.a.Component),ia=Object(v.b)(null,function(e){return{initializeApp:function(){return e(function(){return{type:"SET_USER",payload:{auth:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,loggedInAs:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Anonymous",role:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,websiteUrl:arguments.length>3?arguments[3]:void 0}}}(ea,ta,na,aa))}}})(ra);h.a.render(d.a.createElement(function(){return d.a.createElement(v.a,{store:Zn},d.a.createElement(ia,null))},null),document.getElementById("root"))},77:function(e,t,n){e.exports=n(146)}},[[77,1,2]]]);
//# sourceMappingURL=main.292bc032.chunk.js.map